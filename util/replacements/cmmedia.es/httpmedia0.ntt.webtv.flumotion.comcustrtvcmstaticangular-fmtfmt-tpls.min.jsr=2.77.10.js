var CryptoJS = CryptoJS || function(a, b) {
    var c = {},
        d = c.lib = {},
        e = d.Base = function() {
            function a() {}
            return {
                extend: function(b) {
                    a.prototype = this;
                    var c = new a;
                    return b && c.mixIn(b), c.hasOwnProperty("init") || (c.init = function() {
                        c.$super.init.apply(this, arguments)
                    }), c.init.prototype = c, c.$super = this, c
                },
                create: function() {
                    var a = this.extend();
                    return a.init.apply(a, arguments), a
                },
                init: function() {},
                mixIn: function(a) {
                    for (var b in a) a.hasOwnProperty(b) && (this[b] = a[b]);
                    a.hasOwnProperty("toString") && (this.toString = a.toString)
                },
                clone: function() {
                    return this.init.prototype.extend(this)
                }
            }
        }(),
        f = d.WordArray = e.extend({
            init: function(a, c) {
                a = this.words = a || [], this.sigBytes = c != b ? c : 4 * a.length
            },
            toString: function(a) {
                return (a || h).stringify(this)
            },
            concat: function(a) {
                var b = this.words,
                    c = a.words,
                    d = this.sigBytes,
                    e = a.sigBytes;
                if (this.clamp(), d % 4)
                    for (var f = 0; e > f; f++) {
                        var g = c[f >>> 2] >>> 24 - f % 4 * 8 & 255;
                        b[d + f >>> 2] |= g << 24 - (d + f) % 4 * 8
                    } else if (c.length > 65535)
                        for (var f = 0; e > f; f += 4) b[d + f >>> 2] = c[f >>> 2];
                    else b.push.apply(b, c);
                return this.sigBytes += e, this
            },
            clamp: function() {
                var b = this.words,
                    c = this.sigBytes;
                b[c >>> 2] &= 4294967295 << 32 - c % 4 * 8, b.length = a.ceil(c / 4)
            },
            clone: function() {
                var a = e.clone.call(this);
                return a.words = this.words.slice(0), a
            },
            random: function(b) {
                for (var c = [], d = 0; b > d; d += 4) c.push(4294967296 * a.random() | 0);
                return new f.init(c, b)
            }
        }),
        g = c.enc = {},
        h = g.Hex = {
            stringify: function(a) {
                for (var b = a.words, c = a.sigBytes, d = [], e = 0; c > e; e++) {
                    var f = b[e >>> 2] >>> 24 - e % 4 * 8 & 255;
                    d.push((f >>> 4).toString(16)), d.push((15 & f).toString(16))
                }
                return d.join("")
            },
            parse: function(a) {
                for (var b = a.length, c = [], d = 0; b > d; d += 2) c[d >>> 3] |= parseInt(a.substr(d, 2), 16) << 24 - d % 8 * 4;
                return new f.init(c, b / 2)
            }
        },
        i = g.Latin1 = {
            stringify: function(a) {
                for (var b = a.words, c = a.sigBytes, d = [], e = 0; c > e; e++) {
                    var f = b[e >>> 2] >>> 24 - e % 4 * 8 & 255;
                    d.push(String.fromCharCode(f))
                }
                return d.join("")
            },
            parse: function(a) {
                for (var b = a.length, c = [], d = 0; b > d; d++) c[d >>> 2] |= (255 & a.charCodeAt(d)) << 24 - d % 4 * 8;
                return new f.init(c, b)
            }
        },
        j = g.Utf8 = {
            stringify: function(a) {
                try {
                    return decodeURIComponent(escape(i.stringify(a)))
                } catch (b) {
                    throw new Error("Malformed UTF-8 data")
                }
            },
            parse: function(a) {
                return i.parse(unescape(encodeURIComponent(a)))
            }
        },
        k = d.BufferedBlockAlgorithm = e.extend({
            reset: function() {
                this._data = new f.init, this._nDataBytes = 0
            },
            _append: function(a) {
                "string" == typeof a && (a = j.parse(a)), this._data.concat(a), this._nDataBytes += a.sigBytes
            },
            _process: function(b) {
                var c = this._data,
                    d = c.words,
                    e = c.sigBytes,
                    g = this.blockSize,
                    h = 4 * g,
                    i = e / h;
                i = b ? a.ceil(i) : a.max((0 | i) - this._minBufferSize, 0);
                var j = i * g,
                    k = a.min(4 * j, e);
                if (j) {
                    for (var l = 0; j > l; l += g) this._doProcessBlock(d, l);
                    var m = d.splice(0, j);
                    c.sigBytes -= k
                }
                return new f.init(m, k)
            },
            clone: function() {
                var a = e.clone.call(this);
                return a._data = this._data.clone(), a
            },
            _minBufferSize: 0
        }),
        l = (d.Hasher = k.extend({
            cfg: e.extend(),
            init: function(a) {
                this.cfg = this.cfg.extend(a), this.reset()
            },
            reset: function() {
                k.reset.call(this), this._doReset()
            },
            update: function(a) {
                return this._append(a), this._process(), this
            },
            finalize: function(a) {
                a && this._append(a);
                var b = this._doFinalize();
                return b
            },
            blockSize: 16,
            _createHelper: function(a) {
                return function(b, c) {
                    return new a.init(c).finalize(b)
                }
            },
            _createHmacHelper: function(a) {
                return function(b, c) {
                    return new l.HMAC.init(a, c).finalize(b)
                }
            }
        }), c.algo = {});
    return c
}(Math);
! function() {
    var a = CryptoJS,
        b = a.lib,
        c = b.WordArray,
        d = b.Hasher,
        e = a.algo,
        f = [],
        g = e.SHA1 = d.extend({
            _doReset: function() {
                this._hash = new c.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520])
            },
            _doProcessBlock: function(a, b) {
                for (var c = this._hash.words, d = c[0], e = c[1], g = c[2], h = c[3], i = c[4], j = 0; 80 > j; j++) {
                    if (16 > j) f[j] = 0 | a[b + j];
                    else {
                        var k = f[j - 3] ^ f[j - 8] ^ f[j - 14] ^ f[j - 16];
                        f[j] = k << 1 | k >>> 31
                    }
                    var l = (d << 5 | d >>> 27) + i + f[j];
                    l += 20 > j ? (e & g | ~e & h) + 1518500249 : 40 > j ? (e ^ g ^ h) + 1859775393 : 60 > j ? (e & g | e & h | g & h) - 1894007588 : (e ^ g ^ h) - 899497514, i = h, h = g, g = e << 30 | e >>> 2, e = d, d = l
                }
                c[0] = c[0] + d | 0, c[1] = c[1] + e | 0, c[2] = c[2] + g | 0, c[3] = c[3] + h | 0, c[4] = c[4] + i | 0
            },
            _doFinalize: function() {
                var a = this._data,
                    b = a.words,
                    c = 8 * this._nDataBytes,
                    d = 8 * a.sigBytes;
                return b[d >>> 5] |= 128 << 24 - d % 32, b[(d + 64 >>> 9 << 4) + 14] = Math.floor(c / 4294967296), b[(d + 64 >>> 9 << 4) + 15] = c, a.sigBytes = 4 * b.length, this._process(), this._hash
            },
            clone: function() {
                var a = d.clone.call(this);
                return a._hash = this._hash.clone(), a
            }
        });
    a.SHA1 = d._createHelper(g), a.HmacSHA1 = d._createHmacHelper(g)
}(),
function() {
    var a = this,
        b = a._,
        c = Array.prototype,
        d = Object.prototype,
        e = Function.prototype,
        f = c.push,
        g = c.slice,
        h = c.concat,
        i = d.toString,
        j = d.hasOwnProperty,
        k = Array.isArray,
        l = Object.keys,
        m = e.bind,
        n = function(a) {
            return a instanceof n ? a : this instanceof n ? void(this._wrapped = a) : new n(a)
        };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = n), exports._ = n) : a._ = n, n.VERSION = "1.7.0";
    var o = function(a, b, c) {
        if (void 0 === b) return a;
        switch (null == c ? 3 : c) {
            case 1:
                return function(c) {
                    return a.call(b, c)
                };
            case 2:
                return function(c, d) {
                    return a.call(b, c, d)
                };
            case 3:
                return function(c, d, e) {
                    return a.call(b, c, d, e)
                };
            case 4:
                return function(c, d, e, f) {
                    return a.call(b, c, d, e, f)
                }
        }
        return function() {
            return a.apply(b, arguments)
        }
    };
    n.iteratee = function(a, b, c) {
        return null == a ? n.identity : n.isFunction(a) ? o(a, b, c) : n.isObject(a) ? n.matches(a) : n.property(a)
    }, n.each = n.forEach = function(a, b, c) {
        if (null == a) return a;
        b = o(b, c);
        var d, e = a.length;
        if (e === +e)
            for (d = 0; e > d; d++) b(a[d], d, a);
        else {
            var f = n.keys(a);
            for (d = 0, e = f.length; e > d; d++) b(a[f[d]], f[d], a)
        }
        return a
    }, n.map = n.collect = function(a, b, c) {
        if (null == a) return [];
        b = n.iteratee(b, c);
        for (var d, e = a.length !== +a.length && n.keys(a), f = (e || a).length, g = Array(f), h = 0; f > h; h++) d = e ? e[h] : h, g[h] = b(a[d], d, a);
        return g
    };
    var p = "Reduce of empty array with no initial value";
    n.reduce = n.foldl = n.inject = function(a, b, c, d) {
        null == a && (a = []), b = o(b, d, 4);
        var e, f = a.length !== +a.length && n.keys(a),
            g = (f || a).length,
            h = 0;
        if (arguments.length < 3) {
            if (!g) throw new TypeError(p);
            c = a[f ? f[h++] : h++]
        }
        for (; g > h; h++) e = f ? f[h] : h, c = b(c, a[e], e, a);
        return c
    }, n.reduceRight = n.foldr = function(a, b, c, d) {
        null == a && (a = []), b = o(b, d, 4);
        var e, f = a.length !== +a.length && n.keys(a),
            g = (f || a).length;
        if (arguments.length < 3) {
            if (!g) throw new TypeError(p);
            c = a[f ? f[--g] : --g]
        }
        for (; g--;) e = f ? f[g] : g, c = b(c, a[e], e, a);
        return c
    }, n.find = n.detect = function(a, b, c) {
        var d;
        return b = n.iteratee(b, c), n.some(a, function(a, c, e) {
            return b(a, c, e) ? (d = a, !0) : void 0
        }), d
    }, n.filter = n.select = function(a, b, c) {
        var d = [];
        return null == a ? d : (b = n.iteratee(b, c), n.each(a, function(a, c, e) {
            b(a, c, e) && d.push(a)
        }), d)
    }, n.reject = function(a, b, c) {
        return n.filter(a, n.negate(n.iteratee(b)), c)
    }, n.every = n.all = function(a, b, c) {
        if (null == a) return !0;
        b = n.iteratee(b, c);
        var d, e, f = a.length !== +a.length && n.keys(a),
            g = (f || a).length;
        for (d = 0; g > d; d++)
            if (e = f ? f[d] : d, !b(a[e], e, a)) return !1;
        return !0
    }, n.some = n.any = function(a, b, c) {
        if (null == a) return !1;
        b = n.iteratee(b, c);
        var d, e, f = a.length !== +a.length && n.keys(a),
            g = (f || a).length;
        for (d = 0; g > d; d++)
            if (e = f ? f[d] : d, b(a[e], e, a)) return !0;
        return !1
    }, n.contains = n.include = function(a, b) {
        return null == a ? !1 : (a.length !== +a.length && (a = n.values(a)), n.indexOf(a, b) >= 0)
    }, n.invoke = function(a, b) {
        var c = g.call(arguments, 2),
            d = n.isFunction(b);
        return n.map(a, function(a) {
            return (d ? b : a[b]).apply(a, c)
        })
    }, n.pluck = function(a, b) {
        return n.map(a, n.property(b))
    }, n.where = function(a, b) {
        return n.filter(a, n.matches(b))
    }, n.findWhere = function(a, b) {
        return n.find(a, n.matches(b))
    }, n.max = function(a, b, c) {
        var d, e, f = -1 / 0,
            g = -1 / 0;
        if (null == b && null != a) {
            a = a.length === +a.length ? a : n.values(a);
            for (var h = 0, i = a.length; i > h; h++) d = a[h], d > f && (f = d)
        } else b = n.iteratee(b, c), n.each(a, function(a, c, d) {
            e = b(a, c, d), (e > g || e === -1 / 0 && f === -1 / 0) && (f = a, g = e)
        });
        return f
    }, n.min = function(a, b, c) {
        var d, e, f = 1 / 0,
            g = 1 / 0;
        if (null == b && null != a) {
            a = a.length === +a.length ? a : n.values(a);
            for (var h = 0, i = a.length; i > h; h++) d = a[h], f > d && (f = d)
        } else b = n.iteratee(b, c), n.each(a, function(a, c, d) {
            e = b(a, c, d), (g > e || 1 / 0 === e && 1 / 0 === f) && (f = a, g = e)
        });
        return f
    }, n.shuffle = function(a) {
        for (var b, c = a && a.length === +a.length ? a : n.values(a), d = c.length, e = Array(d), f = 0; d > f; f++) b = n.random(0, f), b !== f && (e[f] = e[b]), e[b] = c[f];
        return e
    }, n.sample = function(a, b, c) {
        return null == b || c ? (a.length !== +a.length && (a = n.values(a)), a[n.random(a.length - 1)]) : n.shuffle(a).slice(0, Math.max(0, b))
    }, n.sortBy = function(a, b, c) {
        return b = n.iteratee(b, c), n.pluck(n.map(a, function(a, c, d) {
            return {
                value: a,
                index: c,
                criteria: b(a, c, d)
            }
        }).sort(function(a, b) {
            var c = a.criteria,
                d = b.criteria;
            if (c !== d) {
                if (c > d || void 0 === c) return 1;
                if (d > c || void 0 === d) return -1
            }
            return a.index - b.index
        }), "value")
    };
    var q = function(a) {
        return function(b, c, d) {
            var e = {};
            return c = n.iteratee(c, d), n.each(b, function(d, f) {
                var g = c(d, f, b);
                a(e, d, g)
            }), e
        }
    };
    n.groupBy = q(function(a, b, c) {
        n.has(a, c) ? a[c].push(b) : a[c] = [b]
    }), n.indexBy = q(function(a, b, c) {
        a[c] = b
    }), n.countBy = q(function(a, b, c) {
        n.has(a, c) ? a[c]++ : a[c] = 1
    }), n.sortedIndex = function(a, b, c, d) {
        c = n.iteratee(c, d, 1);
        for (var e = c(b), f = 0, g = a.length; g > f;) {
            var h = f + g >>> 1;
            c(a[h]) < e ? f = h + 1 : g = h
        }
        return f
    }, n.toArray = function(a) {
        return a ? n.isArray(a) ? g.call(a) : a.length === +a.length ? n.map(a, n.identity) : n.values(a) : []
    }, n.size = function(a) {
        return null == a ? 0 : a.length === +a.length ? a.length : n.keys(a).length
    }, n.partition = function(a, b, c) {
        b = n.iteratee(b, c);
        var d = [],
            e = [];
        return n.each(a, function(a, c, f) {
            (b(a, c, f) ? d : e).push(a)
        }), [d, e]
    }, n.first = n.head = n.take = function(a, b, c) {
        return null == a ? void 0 : null == b || c ? a[0] : 0 > b ? [] : g.call(a, 0, b)
    }, n.initial = function(a, b, c) {
        return g.call(a, 0, Math.max(0, a.length - (null == b || c ? 1 : b)))
    }, n.last = function(a, b, c) {
        return null == a ? void 0 : null == b || c ? a[a.length - 1] : g.call(a, Math.max(a.length - b, 0))
    }, n.rest = n.tail = n.drop = function(a, b, c) {
        return g.call(a, null == b || c ? 1 : b)
    }, n.compact = function(a) {
        return n.filter(a, n.identity)
    };
    var r = function(a, b, c, d) {
        if (b && n.every(a, n.isArray)) return h.apply(d, a);
        for (var e = 0, g = a.length; g > e; e++) {
            var i = a[e];
            n.isArray(i) || n.isArguments(i) ? b ? f.apply(d, i) : r(i, b, c, d) : c || d.push(i)
        }
        return d
    };
    n.flatten = function(a, b) {
        return r(a, b, !1, [])
    }, n.without = function(a) {
        return n.difference(a, g.call(arguments, 1))
    }, n.uniq = n.unique = function(a, b, c, d) {
        if (null == a) return [];
        n.isBoolean(b) || (d = c, c = b, b = !1), null != c && (c = n.iteratee(c, d));
        for (var e = [], f = [], g = 0, h = a.length; h > g; g++) {
            var i = a[g];
            if (b) g && f === i || e.push(i), f = i;
            else if (c) {
                var j = c(i, g, a);
                n.indexOf(f, j) < 0 && (f.push(j), e.push(i))
            } else n.indexOf(e, i) < 0 && e.push(i)
        }
        return e
    }, n.union = function() {
        return n.uniq(r(arguments, !0, !0, []))
    }, n.intersection = function(a) {
        if (null == a) return [];
        for (var b = [], c = arguments.length, d = 0, e = a.length; e > d; d++) {
            var f = a[d];
            if (!n.contains(b, f)) {
                for (var g = 1; c > g && n.contains(arguments[g], f); g++);
                g === c && b.push(f)
            }
        }
        return b
    }, n.difference = function(a) {
        var b = r(g.call(arguments, 1), !0, !0, []);
        return n.filter(a, function(a) {
            return !n.contains(b, a)
        })
    }, n.zip = function(a) {
        if (null == a) return [];
        for (var b = n.max(arguments, "length").length, c = Array(b), d = 0; b > d; d++) c[d] = n.pluck(arguments, d);
        return c
    }, n.object = function(a, b) {
        if (null == a) return {};
        for (var c = {}, d = 0, e = a.length; e > d; d++) b ? c[a[d]] = b[d] : c[a[d][0]] = a[d][1];
        return c
    }, n.indexOf = function(a, b, c) {
        if (null == a) return -1;
        var d = 0,
            e = a.length;
        if (c) {
            if ("number" != typeof c) return d = n.sortedIndex(a, b), a[d] === b ? d : -1;
            d = 0 > c ? Math.max(0, e + c) : c
        }
        for (; e > d; d++)
            if (a[d] === b) return d;
        return -1
    }, n.lastIndexOf = function(a, b, c) {
        if (null == a) return -1;
        var d = a.length;
        for ("number" == typeof c && (d = 0 > c ? d + c + 1 : Math.min(d, c + 1)); --d >= 0;)
            if (a[d] === b) return d;
        return -1
    }, n.range = function(a, b, c) {
        arguments.length <= 1 && (b = a || 0, a = 0), c = c || 1;
        for (var d = Math.max(Math.ceil((b - a) / c), 0), e = Array(d), f = 0; d > f; f++, a += c) e[f] = a;
        return e
    };
    var s = function() {};
    n.bind = function(a, b) {
        var c, d;
        if (m && a.bind === m) return m.apply(a, g.call(arguments, 1));
        if (!n.isFunction(a)) throw new TypeError("Bind must be called on a function");
        return c = g.call(arguments, 2), d = function() {
            if (!(this instanceof d)) return a.apply(b, c.concat(g.call(arguments)));
            s.prototype = a.prototype;
            var e = new s;
            s.prototype = null;
            var f = a.apply(e, c.concat(g.call(arguments)));
            return n.isObject(f) ? f : e
        }
    }, n.partial = function(a) {
        var b = g.call(arguments, 1);
        return function() {
            for (var c = 0, d = b.slice(), e = 0, f = d.length; f > e; e++) d[e] === n && (d[e] = arguments[c++]);
            for (; c < arguments.length;) d.push(arguments[c++]);
            return a.apply(this, d)
        }
    }, n.bindAll = function(a) {
        var b, c, d = arguments.length;
        if (1 >= d) throw new Error("bindAll must be passed function names");
        for (b = 1; d > b; b++) c = arguments[b], a[c] = n.bind(a[c], a);
        return a
    }, n.memoize = function(a, b) {
        var c = function(d) {
            var e = c.cache,
                f = b ? b.apply(this, arguments) : d;
            return n.has(e, f) || (e[f] = a.apply(this, arguments)), e[f]
        };
        return c.cache = {}, c
    }, n.delay = function(a, b) {
        var c = g.call(arguments, 2);
        return setTimeout(function() {
            return a.apply(null, c)
        }, b)
    }, n.defer = function(a) {
        return n.delay.apply(n, [a, 1].concat(g.call(arguments, 1)))
    }, n.throttle = function(a, b, c) {
        var d, e, f, g = null,
            h = 0;
        c || (c = {});
        var i = function() {
            h = c.leading === !1 ? 0 : n.now(), g = null, f = a.apply(d, e), g || (d = e = null)
        };
        return function() {
            var j = n.now();
            h || c.leading !== !1 || (h = j);
            var k = b - (j - h);
            return d = this, e = arguments, 0 >= k || k > b ? (clearTimeout(g), g = null, h = j, f = a.apply(d, e), g || (d = e = null)) : g || c.trailing === !1 || (g = setTimeout(i, k)), f
        }
    }, n.debounce = function(a, b, c) {
        var d, e, f, g, h, i = function() {
            var j = n.now() - g;
            b > j && j > 0 ? d = setTimeout(i, b - j) : (d = null, c || (h = a.apply(f, e), d || (f = e = null)))
        };
        return function() {
            f = this, e = arguments, g = n.now();
            var j = c && !d;
            return d || (d = setTimeout(i, b)), j && (h = a.apply(f, e), f = e = null), h
        }
    }, n.wrap = function(a, b) {
        return n.partial(b, a)
    }, n.negate = function(a) {
        return function() {
            return !a.apply(this, arguments)
        }
    }, n.compose = function() {
        var a = arguments,
            b = a.length - 1;
        return function() {
            for (var c = b, d = a[b].apply(this, arguments); c--;) d = a[c].call(this, d);
            return d
        }
    }, n.after = function(a, b) {
        return function() {
            return --a < 1 ? b.apply(this, arguments) : void 0
        }
    }, n.before = function(a, b) {
        var c;
        return function() {
            return --a > 0 ? c = b.apply(this, arguments) : b = null, c
        }
    }, n.once = n.partial(n.before, 2), n.keys = function(a) {
        if (!n.isObject(a)) return [];
        if (l) return l(a);
        var b = [];
        for (var c in a) n.has(a, c) && b.push(c);
        return b
    }, n.values = function(a) {
        for (var b = n.keys(a), c = b.length, d = Array(c), e = 0; c > e; e++) d[e] = a[b[e]];
        return d
    }, n.pairs = function(a) {
        for (var b = n.keys(a), c = b.length, d = Array(c), e = 0; c > e; e++) d[e] = [b[e], a[b[e]]];
        return d
    }, n.invert = function(a) {
        for (var b = {}, c = n.keys(a), d = 0, e = c.length; e > d; d++) b[a[c[d]]] = c[d];
        return b
    }, n.functions = n.methods = function(a) {
        var b = [];
        for (var c in a) n.isFunction(a[c]) && b.push(c);
        return b.sort()
    }, n.extend = function(a) {
        if (!n.isObject(a)) return a;
        for (var b, c, d = 1, e = arguments.length; e > d; d++) {
            b = arguments[d];
            for (c in b) j.call(b, c) && (a[c] = b[c])
        }
        return a
    }, n.pick = function(a, b, c) {
        var d, e = {};
        if (null == a) return e;
        if (n.isFunction(b)) {
            b = o(b, c);
            for (d in a) {
                var f = a[d];
                b(f, d, a) && (e[d] = f)
            }
        } else {
            var i = h.apply([], g.call(arguments, 1));
            a = new Object(a);
            for (var j = 0, k = i.length; k > j; j++) d = i[j], d in a && (e[d] = a[d])
        }
        return e
    }, n.omit = function(a, b, c) {
        if (n.isFunction(b)) b = n.negate(b);
        else {
            var d = n.map(h.apply([], g.call(arguments, 1)), String);
            b = function(a, b) {
                return !n.contains(d, b)
            }
        }
        return n.pick(a, b, c)
    }, n.defaults = function(a) {
        if (!n.isObject(a)) return a;
        for (var b = 1, c = arguments.length; c > b; b++) {
            var d = arguments[b];
            for (var e in d) void 0 === a[e] && (a[e] = d[e])
        }
        return a
    }, n.clone = function(a) {
        return n.isObject(a) ? n.isArray(a) ? a.slice() : n.extend({}, a) : a
    }, n.tap = function(a, b) {
        return b(a), a
    };
    var t = function(a, b, c, d) {
        if (a === b) return 0 !== a || 1 / a === 1 / b;
        if (null == a || null == b) return a === b;
        a instanceof n && (a = a._wrapped), b instanceof n && (b = b._wrapped);
        var e = i.call(a);
        if (e !== i.call(b)) return !1;
        switch (e) {
            case "[object RegExp]":
            case "[object String]":
                return "" + a == "" + b;
            case "[object Number]":
                return +a !== +a ? +b !== +b : 0 === +a ? 1 / +a === 1 / b : +a === +b;
            case "[object Date]":
            case "[object Boolean]":
                return +a === +b
        }
        if ("object" != typeof a || "object" != typeof b) return !1;
        for (var f = c.length; f--;)
            if (c[f] === a) return d[f] === b;
        var g = a.constructor,
            h = b.constructor;
        if (g !== h && "constructor" in a && "constructor" in b && !(n.isFunction(g) && g instanceof g && n.isFunction(h) && h instanceof h)) return !1;
        c.push(a), d.push(b);
        var j, k;
        if ("[object Array]" === e) {
            if (j = a.length, k = j === b.length)
                for (; j-- && (k = t(a[j], b[j], c, d)););
        } else {
            var l, m = n.keys(a);
            if (j = m.length, k = n.keys(b).length === j)
                for (; j-- && (l = m[j], k = n.has(b, l) && t(a[l], b[l], c, d)););
        }
        return c.pop(), d.pop(), k
    };
    n.isEqual = function(a, b) {
        return t(a, b, [], [])
    }, n.isEmpty = function(a) {
        if (null == a) return !0;
        if (n.isArray(a) || n.isString(a) || n.isArguments(a)) return 0 === a.length;
        for (var b in a)
            if (n.has(a, b)) return !1;
        return !0
    }, n.isElement = function(a) {
        return !(!a || 1 !== a.nodeType)
    }, n.isArray = k || function(a) {
        return "[object Array]" === i.call(a)
    }, n.isObject = function(a) {
        var b = typeof a;
        return "function" === b || "object" === b && !!a
    }, n.each(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function(a) {
        n["is" + a] = function(b) {
            return i.call(b) === "[object " + a + "]"
        }
    }), n.isArguments(arguments) || (n.isArguments = function(a) {
        return n.has(a, "callee")
    }), "function" != typeof /./ && (n.isFunction = function(a) {
        return "function" == typeof a || !1
    }), n.isFinite = function(a) {
        return isFinite(a) && !isNaN(parseFloat(a))
    }, n.isNaN = function(a) {
        return n.isNumber(a) && a !== +a
    }, n.isBoolean = function(a) {
        return a === !0 || a === !1 || "[object Boolean]" === i.call(a)
    }, n.isNull = function(a) {
        return null === a
    }, n.isUndefined = function(a) {
        return void 0 === a
    }, n.has = function(a, b) {
        return null != a && j.call(a, b)
    }, n.noConflict = function() {
        return a._ = b, this
    }, n.identity = function(a) {
        return a
    }, n.constant = function(a) {
        return function() {
            return a
        }
    }, n.noop = function() {}, n.property = function(a) {
        return function(b) {
            return b[a]
        }
    }, n.matches = function(a) {
        var b = n.pairs(a),
            c = b.length;
        return function(a) {
            if (null == a) return !c;
            a = new Object(a);
            for (var d = 0; c > d; d++) {
                var e = b[d],
                    f = e[0];
                if (e[1] !== a[f] || !(f in a)) return !1
            }
            return !0
        }
    }, n.times = function(a, b, c) {
        var d = Array(Math.max(0, a));
        b = o(b, c, 1);
        for (var e = 0; a > e; e++) d[e] = b(e);
        return d
    }, n.random = function(a, b) {
        return null == b && (b = a, a = 0), a + Math.floor(Math.random() * (b - a + 1))
    }, n.now = Date.now || function() {
        return (new Date).getTime()
    };
    var u = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;",
            "`": "&#x60;"
        },
        v = n.invert(u),
        w = function(a) {
            var b = function(b) {
                    return a[b]
                },
                c = "(?:" + n.keys(a).join("|") + ")",
                d = RegExp(c),
                e = RegExp(c, "g");
            return function(a) {
                return a = null == a ? "" : "" + a, d.test(a) ? a.replace(e, b) : a
            }
        };
    n.escape = w(u), n.unescape = w(v), n.result = function(a, b) {
        if (null == a) return void 0;
        var c = a[b];
        return n.isFunction(c) ? a[b]() : c
    };
    var x = 0;
    n.uniqueId = function(a) {
        var b = ++x + "";
        return a ? a + b : b
    }, n.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var y = /(.)^/,
        z = {
            "'": "'",
            "\\": "\\",
            "\r": "r",
            "\n": "n",
            "\u2028": "u2028",
            "\u2029": "u2029"
        },
        A = /\\|'|\r|\n|\u2028|\u2029/g,
        B = function(a) {
            return "\\" + z[a]
        };
    n.template = function(a, b, c) {
        !b && c && (b = c), b = n.defaults({}, b, n.templateSettings);
        var d = RegExp([(b.escape || y).source, (b.interpolate || y).source, (b.evaluate || y).source].join("|") + "|$", "g"),
            e = 0,
            f = "__p+='";
        a.replace(d, function(b, c, d, g, h) {
            return f += a.slice(e, h).replace(A, B), e = h + b.length, c ? f += "'+\n((__t=(" + c + "))==null?'':_.escape(__t))+\n'" : d ? f += "'+\n((__t=(" + d + "))==null?'':__t)+\n'" : g && (f += "';\n" + g + "\n__p+='"), b
        }), f += "';\n", b.variable || (f = "with(obj||{}){\n" + f + "}\n"), f = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + f + "return __p;\n";
        try {
            var g = new Function(b.variable || "obj", "_", f)
        } catch (h) {
            throw h.source = f, h
        }
        var i = function(a) {
                return g.call(this, a, n)
            },
            j = b.variable || "obj";
        return i.source = "function(" + j + "){\n" + f + "}", i
    }, n.chain = function(a) {
        var b = n(a);
        return b._chain = !0, b
    };
    var C = function(a) {
        return this._chain ? n(a).chain() : a
    };
    n.mixin = function(a) {
        n.each(n.functions(a), function(b) {
            var c = n[b] = a[b];
            n.prototype[b] = function() {
                var a = [this._wrapped];
                return f.apply(a, arguments), C.call(this, c.apply(n, a))
            }
        })
    }, n.mixin(n), n.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(a) {
        var b = c[a];
        n.prototype[a] = function() {
            var c = this._wrapped;
            return b.apply(c, arguments), "shift" !== a && "splice" !== a || 0 !== c.length || delete c[0], C.call(this, c)
        }
    }), n.each(["concat", "join", "slice"], function(a) {
        var b = c[a];
        n.prototype[a] = function() {
            return C.call(this, b.apply(this._wrapped, arguments))
        }
    }), n.prototype.value = function() {
        return this._wrapped
    }, "function" == typeof define && define.amd && define("underscore", [], function() {
        return n
    })
}.call(this), angular.module("fmt", ["fmt.widget", "fmt.player", "fmt.jwplayer", "fmt.playlist", "fmt.addthis", "fmt.metadata", "fmt.layout", "fmt.controllers.cbnews"]).config(["$sceDelegateProvider", function(a) {
    a.resourceUrlWhitelist(["**"])
}]), angular.module("fmt.components.filters.duration", []).filter("duration", function() {
    return function(a) {
        if (0 > a) return "âˆž";
        var b = function(a) {
            return (a > 9 ? "" : "0") + a
        };
        a = a || 0;
        var c = Math.floor(a / 3600);
        a -= 3600 * c;
        var d = Math.floor(a / 60),
            e = Math.round(a - 60 * d),
            f = c > 0 ? c + ":" : "";
        return f += (d > 0 ? b(d) : "00") + ":", f += b(e)
    }
}), angular.module("fmt.components.filters.parse", []).filter("parse", function() {
    var a = function(a) {
        var b = +a;
        return b.toString() === a
    };
    return function(b) {
        return b && (/^true$/i.test(b) ? b = !0 : /^false$/i.test(b) ? b = !1 : a(b) ? b = parseFloat(b) : /^{".+"}?/.test(b) && (b = angular.fromJson(b))), b
    }
}), angular.module("fmt.components.filters.slug", []).filter("slug", function() {
    return function(a) {
        return a ? a.trim().toLowerCase().replace(/[^\w -]+/g, "").replace(/[ _]+/g, "-") : ""
    }
}), angular.module("fmt.components.filters.extension", []).filter("extension", function() {
    return function(a) {
        var b = a ? a.match(/^.*?\.([a-zA-Z0-9]+)(\?|#|$)/i) : null;
        return b && b.length > 1 ? b[1].toLowerCase() : null
    }
}), angular.module("fmt.components.filters.decamelize", []).filter("decamelize", function() {
    return function(a) {
        return a ? a.replace(/([a-z])([A-Z0-9])/g, "$1-$2").toLowerCase() : a
    }
}), angular.module("fmt.components.services.url", []).service("Url", function() {
    var a = function() {
            for (var a = null, c = [], d = arguments && arguments[0] && angular.isArray(arguments[0]) ? arguments[0] : arguments, e = 0; e < d.length; e++) {
                var f = d[e];
                angular.isObject(f) ? a = angular.extend(a || {}, f) : (angular.isString(f) || (f = String(f)), c.push(f.replace(/^\/(?=[^\/])|\/$/g, "")))
            }
            var g = c.join("/");
            return a && (g += g.indexOf("?") > 0 ? "&" : "?", g += b(a)), g
        },
        b = function(a) {
            var b = [];
            for (var c in a) a.hasOwnProperty(c) && (a[c] === !1 || a[c]) && b.push(encodeURIComponent(c) + "=" + encodeURIComponent(a[c]));
            return b.join("&")
        },
        c = function(a, b) {
            var c = new RegExp("[?|&]" + a + "=([^&;]+?)(&|#|;|$)");
            return decodeURIComponent((c.exec(location.search) || [, ""])[1].replace(/\+/g, "%20")) || b
        },
        d = function(a, b, c) {
            var d = b + "=" + c,
                e = "?" + d;
            return a && (e = a.replace(new RegExp("([?&])" + b + "[^&]*"), "$1" + d), e === a && (e += "&" + d)), e
        };
    return {
        joinUrl: a,
        encodeQueryData: b,
        getURLParameter: c,
        addUrlParam: d
    }
}), angular.module("fmt.components.services.widget-api", ["fmt.components.services.url"]).constant("apiConfig", {
    baseUrl: null,
    referrer: null
}).service("WidgetApi", ["$q", "$http", "$location", "Url", "apiConfig", function(a, b, c, d, e) {
    var f = this,
        g = "9n1IzQrHUwy1uWha7haiuH4vhai1FUiuHY2w7qk4vK1FUO",
        h = "7haiuH4vhai1FUqk9nY2wOuH4v1IzQWK",
        i = "7haiuH4vhai1FU",
        j = function() {
            if (e.baseUrl) return e.baseUrl;
            var a = null;
            if (window.fmtBaseUrl) {
                var b = window.fmtBaseUrl.match(/(.*\/\/media[0-9]*\.webtv.*)\/cust\/(.*)\/static/i);
                b && 3 === b.length ? a = b[1].replace(/media[0-9]*\./i, "api." + b[2] + ".") : (b = window.fmtBaseUrl.match(/.*\/\/[a-z0-9:\.]*\//i), a = b && b.length > 0 ? d.joinUrl(b[0], "api") : d.joinUrl(window.fmtBaseUrl, "api"))
            } else window.location.origin || (window.location.origin = window.location.protocol + "//" + window.location.host), a = d.joinUrl(window.location.origin, "api");
            return a
        },
        k = function() {
            var a = {
                    api_key: f.config.apiKey,
                    api_nonce: Math.floor(1e7 + 9e7 * Math.random()),
                    api_referrer: f.config.apiReferrer,
                    api_timestamp: Math.round((new Date).getTime() / 1e3) + f.config.timedelta
                },
                b = d.encodeQueryData(a) + g.replace(i, "") + h.replace(h, "");
				// START CAMBIOS
				console.log(b);
				// FIN CAMBIOS
            return _.extend(a, {
                api_signature: CryptoJS.SHA1(b).toString()
            }), a
        },
        l = a.defer();
    l.resolve(!0);
    var m = l.promise,
        n = _.once(function() {
            return p("config", {
                r: (new Date).getTime()
            }).then(function(a) {
                return f.config = angular.extend(f.config, {
                    apiKey: a.key,
                    version: a.version,
                    timedelta: a.timestamp - Math.round((new Date).getTime() / 1e3),
                    apiReferrer: e.referrer || c.search().apiReferrer || window.top.location.host
                }), a
            })
        }),
        o = function(a) {
            f.config || (f.config = {
                apiBaseUrl: j()
            });
            var c = Array.prototype.slice.call(arguments, 1),
                e = f.config.version || "config" === c[0] ? m : n();
            return e.then(function() {
                c.unshift(f.config.apiBaseUrl), "jsonp" === a && c.push({
                    callback: "JSON_CALLBACK"
                });
                var e = d.joinUrl.apply(this, c),
                    g = /(players|streams\??|stats)/,
                    h = "cassidy" !== f.config.version && g.test(e);
                return h && (c.push(k()), e = d.joinUrl.apply(this, c)), b({
                    method: a,
                    url: e,
                    withCredentials: !0
                })
            }).then(function(a) {
                return a.data
            })
        },
        p = function() {
            var a = Array.prototype.slice.call(arguments);
            return a.unshift("get"), o.apply(this, a)
        };
    return {
        get: p,
        getBaseUrl: j,
        sign: k
    }
}]), angular.module("fmt.components.services.analytics", []).constant("fmtAnalyticsConfig", {
    gaAccount: "UA-46378267-1",
    fmtEvents: ["hit", "inst", "thru"],
    gaEvents: {
        hit: "Hit",
        inst: "Inst",
        thru: "Thru",
        pause: "Pause",
        play: "Play",
        seeked: "Seek",
        volumechange: "Volume"
    }
}).service("Analytics", ["$rootScope", "$window", "$location", function(a, b, c) {
    var d = function() {
            b.GoogleAnalyticsObject = "ga", b.ga = b.ga || function() {
                (b.ga.q = b.ga.q || []).push(arguments)
            }, b.ga.l = 1 * new Date;
            var a = document.createElement("script"),
                c = document.getElementsByTagName("script")[0];
            a.async = 1, a.src = "//www.google-analytics.com/analytics.js", c.parentNode.insertBefore(a, c)
        },
        e = function(a) {
            var c = null;
            b.location.hostname.match(/localhost|([0-9]{1,3}\.){3}[0-9]{1,3}/i) && (c = {
                cookieDomain: "none"
            }), b.ga("create", a, c)
        },
        f = function() {
            a.$on("$viewContentLoaded", function() {
                (b.ga || angular.noop)("send", "pageview", {
                    page: c.path()
                })
            })
        },
        g = function(a, c, d, e) {
            (b.ga || angular.noop)("send", "event", a, c, d, e)
        },
        h = function(a, b) {
            a && (d(), e(a), b && b.trackPagesEnabled && f())
        };
    return {
        initialize: h,
        trackEvent: g
    }
}]), angular.module("fmt.components.services.widget-analytics", ["fmt.components.services.widget-api", "fmt.components.services.analytics"]).service("WidgetAnalytics", ["WidgetApi", "Analytics", "fmtAnalyticsConfig", function(a, b, c) {
    var d, e, f, g, h = -1,
        i = -1,
        j = function() {
            return d && "function" == typeof d.duration ? !0 : !1
        },
        k = function(a, b) {
            var c, e;
            b && b.hasOwnProperty("duration") && b.hasOwnProperty("position") ? (c = b.position, e = b.duration) : (c = "function" == typeof d.currentTime ? d.currentTime() : d.currentTime, e = "function" == typeof d.duration ? d.duration() : d.duration);
            var f = c / e * 100;
            return a * Math.floor(f / (a || 1))
        },
        l = function(a) {
            var b;
            if (0 > i) return j() || m("hit"), void(i = 0);
            b = a && a.hasOwnProperty("duration") && a.hasOwnProperty("position") ? a.duration : "function" == typeof d.duration ? d.duration() : d.duration;
            var c = e && e.livestream || !b;
            if (!c) {
                var f = k(5, a);
                f && f !== i && (f === i + 5 ? (m("thru", f), i = f) : f !== h && (m("inst", f), h = f))
            }
        },
        m = function(d, f, h, i) {
            if (f = f || 0, h = h || e, i = i || 3, h && _.contains(c.fmtEvents, d)) {
                f = ("00" + f).slice(-3);
                var j = "hit" !== d ? d + "_p" + f : d;
                a.get("stats/video", j.toUpperCase(), {
                    gateway_id: i || 1,
                    video_id: h.id,
                    channel_id: g
                })
            }
            if (c.gaAccount && _.has(c.gaEvents, d)) {
                var k = h ? h.livestream ? "Videos Live" : "Videos" : "External",
                    l = c.gaEvents[d],
                    m = h ? "[" + h.id + "] " + (h.title || h.name) : "unknown";
                b.trackEvent(k, l, m, f)
            }
        },
        n = function() {
            c.gaAccount && b.initialize(c.gaAccount)
        },
        o = function(a, b, c) {
            d = a, e = b, g = c, f = b && b.streams && b.streams.length ? b.streams[0].url : null, h = i = -1, a && (a.onTime ? a.onTime(l) : a.on ? a.on("timeupdate", l) : a.addEventListener && a.addEventListener("timeupdate", l))
        };
    return {
        initialize: n,
        startTracking: o,
        trackEvent: m
    }
}]), angular.module("fmt.components.services.widget-download", []).service("WidgetDownload", function() {
    var a = function(a, b) {
        var c = videojs.getComponent("Button"),
            d = videojs.extend(c, {
                constructor: function() {
                    c.apply(this, arguments)
                },
                createEl: function() {
                    return c.prototype.createEl("button", {
                        className: "vjs-download-button vjs-control vjs-button",
                        innerHTML: '<i class="fa fa-download fa-lg"></i>'
                    })
                },
                handleClick: function() {
                    var c = [],
                        d = [];
                    angular.forEach(b, function(a) {
                        a.url.search("http") >= 0 ? d.push(a.url) : c.push(a.url)
                    }), a.search("rtmp") >= 0 && angular.forEach(c, function(b, c) {
                        b === a && (a = d[c])
                    }), a.search("smilfile") >= 0 && (a = d[0]), d.length && !_.contains(d, a) && (a = d[0]), a += -1 !== a.indexOf("?") ? "&download=1" : "?download=1", window.location.href = a
                }
            });
        videojs.registerComponent("DownloadButton", d)
    };
    return {
        initialize: a
    }
}), angular.module("fmt.components.services.bitly", []).constant("bitlyConfig", {
    url: "https://api-ssl.bitly.com/v3/shorten",
    accessToken: "a849b0d5aa6d017b04843097b122a59b6d1f5413"
}).service("Bitly", ["$q", "$http", "bitlyConfig", function(a, b, c) {
    var d = function(d) {
        var e = a.defer();
        return b.get(c.url, {
            params: {
                access_token: c.accessToken,
                longUrl: d
            }
        }).success(function(a) {
            e.resolve(a.data.url)
        }).error(function() {
            e.resolve(d)
        }), e.promise
    };
    return {
        makeItShort: d
    }
}]), angular.module("fmt.components.services.parser", []).service("Parser", ["$q", "$http", function(a, b) {
    var c = function(c) {
        var d = a.defer();
        return b.get(c).success(function(a) {
            var b = /flumotion/i.test(a) ? a.split("\n").pop() : c;
            d.resolve(b)
        }).error(function() {
            d.resolve(c)
        }), d.promise
    };
    return {
        parseM3u: c
    }
}]), angular.module("fmt.components.services.loader-manager", ["fmt.components.services.widget-api", "fmt.components.services.parser"]).service("LoaderManager", ["$q", "$filter", "WidgetApi", "Parser", function(a, b, c, d) {
    var e = function(a) {
            return ("mp3" === a ? "audio" : "video") + "/" + a
        },
        f = function(b, d, e) {
            var f = a.defer();
            return c.get("pods", b, {
                extended: !0
            }).then(function(a) {
                a.skip_ad_button_delay = e, d && (a.campaign = d), a.campaign ? c.get("campaign", a.campaign, "mast.xml").then(function(b) {
                    var c = b.match(/uri="(.*?)"/);
                    c.length > 1 && (a.vast = c[1]), f.resolve(a)
                }) : f.resolve(a)
            }), f.promise
        },
        g = function(g, h, i, j) {
            var k = a.defer(),
                l = {},
                m = parseInt(g);
            if (isNaN(m)) {
                var n = b("extension")(g);
                l.streams = "m3u" === n ? function() {
                    var c = a.defer();
                    return d.parseM3u(g).then(function(a) {
                        c.resolve([{
                            url: a,
                            mimetype: e(b("extension")(a))
                        }])
                    }), c.promise
                }() : function() {
                    var b = a.defer();
                    return b.resolve([{
                        url: g,
                        mimetype: e(n)
                    }]), b.promise
                }()
            } else l.pod = f(m, i, j), l.streams = c.get("pods", m, "streams");
            return h && (l.player = c.get("players", h, {
                extended: !0
            })), a.all(l).then(k.resolve).then(k.reject), k.promise
        };
    return {
        load: g
    }
}]), angular.module("fmt.components.services.bandwidth-tester", []).constant("fmtBandwidthConfig", {
    samples: [
        ["sample-16KB.jpg", 16691],
        ["sample-32KB.jpg", 32154],
        ["sample-64KB.jpg", 64614],
        ["sample-128KB.jpg", 129024],
        ["sample-256KB.jpg", 256e3],
        ["sample-512KB.jpg", 511932],
        ["sample-1MB.jpg", 1005568],
        ["sample-2MB.jpg", 1992294]
    ],
    pingSample: "sample-latency.gif",
    testDuration: 1e3,
    securityRatio: .82,
    repeatTest: !1
}).service("LatencyTester", ["$rootScope", "$window", "$location", "$q", "$timeout", "fmtBandwidthConfig", function(a, b, c, d, e, f) {
    var g = function() {
        var a = d.defer(),
            b = this;
        b.startTime = 0, b.endTime = 0, b.ping = 0;
        var c = new Image;
        c.onload = function() {
            b.endTime = (new Date).getTime(), b.ping = b.endTime - b.startTime, a.resolve(b.ping)
        }, c.onerror = function() {
            a.resolve(!1)
        }, b.startTime = (new Date).getTime();
        var e = "?v=" + b.startTime;
        return c.src = f.samplesURL + f.pingSample + e, a.promise
    };
    return {
        testLatency: g
    }
}]).service("BandwidthTester", ["$rootScope", "$window", "$location", "$q", "$timeout", "fmtBandwidthConfig", "fmtPlayerConfig", function(a, b, c, d, e, f, g) {
    var h = this;
    h._bandwidth = 0, h._testsDone = !1, h._duration = f.duration, h._securityRatio = f.securityRatio, h._repeatTest = f.repeatTest;
    var i = function(a) {
            angular.isNumber(a) && (h._duration = a)
        },
        j = function(a) {
            h._repeatTest = a ? !0 : !1
        },
        k = function() {
            function a() {
                if (c < f.samples.length) {
                    var d, e;
                    d = e = 0;
                    var i = new Image;
                    i.onload = function() {
                        e = (new Date).getTime();
                        var g = 8 * f.samples[c][1],
                            i = e - d,
                            j = g / i;
                        e - d <= h._duration ? (c++, a()) : (h._testsDone = !0, h._bandwidth = j * h._securityRatio, b.resolve(h._bandwidth))
                    }, i.onerror = function(a) {
                        console.log(a), b.resolve(0)
                    }, d = (new Date).getTime();
                    var j = "?nnn=" + d;
                    i.src = g.playerSwfBaseUrl + "assets/images/" + f.samples[c][0] + j
                } else b.resolve(0)
            }
            var b = d.defer();
            if (h._repeatTest || !h._testsDone) {
                var c = 0;
                a()
            } else b.resolve(h._bandwidth);
            return b.promise
        };
    return {
        testBandwidth: k,
        setDuration: i,
        setRepeatTest: j
    }
}]), angular.module("fmt.player", ["fmt.player.browser", "fmt.player.videojs", "fmt.components.filters.parse", "fmt.components.filters.slug", "fmt.components.filters.extension", "fmt.components.services.widget-api", "fmt.components.services.widget-analytics", "fmt.components.services.parser", "fmt.components.services.bandwidth-tester"]).constant("fmtPlayerConfig", {
    elementId: "fmt-player",
    playerId: null,
    src: null,
    content: "",
    autoplayEnabled: null,
    playerHtml5: "videojs",
    playerFlash: "videojs",
    techOrder: "html5_flash",
    posterUrl: "",
    playerSwfBaseUrl: "flash/strobe",
    seoEnabled: !1,
    statsEnabled: !0,
    volume: 1,
    wmode: null,
    error404ImageUrl: null,
    plugin_flumotioncdn: "${player_base_url}/FlumotionCDNPlugin.swf",
    flumotioncdn_namespace: "http://www.flumotion.com/plugins/flumotioncdn/1.0",
    flumotioncdn_hd: !0,
    flumotioncdn_high: !0,
    flumotioncdn_med: !0,
    flumotioncdn_low: !0,
    testBandwidth: !1,
    testBandwidthDuration: 800,
    qualityIndex: 0,
    bitrate: 0,
    assetsURL: "${player_base_url}/assets/",
    plugin_menudisplay: null,
    menudisplay_namespace: "http://www.flumotion.com/plugins/menudisplay/1.0",
    menudisplay_likeInfoVisible: !0,
    menudisplay_imageVisible: !0,
    menudisplay_autoHideEnabled: !0,
    menudisplay_autoHideTimeout: 3,
    menudisplay_nameVisible: !0,
    menudisplay_descriptionVisible: !1,
    menudisplay_tooltipsEnabled: !0,
    menudisplay_shareButtonEnabled: !1,
    menudisplay_likeButtonEnabled: !1,
    menudisplay_embedButtonEnabled: !1,
    menudisplay_downloadButtonEnabled: !1,
    menudisplay_commentsButtonEnabled: !1,
    plugin_share: null,
    share_namespace: "http://www.flumotion.com/plugins/share/1.0",
    plugin_embed: null,
    embed_namespace: "http://www.flumotion.com/plugins/embed/1.0",
    embed_enabled: !0,
    plugin_comments: null,
    comments_namespace: "http://www.flumotion.com/plugins/comments/1.0",
    comments_enabled: !0,
    plugin_captioning: null,
    captioning_namespace: "http://www.flumotion.com/plugins/captioning/1.0",
    captioning_enabled: !0,
    plugin_relatedcontent: null,
    relatedcontent_namespace: "http://www.flumotion.com/plugins/relatedcontent/1.0",
    relatedcontent_enabled: !0,
    plugin_branding: null,
    branding_namespace: "http://www.flumotion.com/plugins/branding/1.0",
    branding_uri: null,
    branding_width: 120,
    branding_height: 80,
    branding_clickThroughURL: null,
    branding_verticalAlign: "top",
    branding_horizontalAlign: "right",
    branding_alpha: .8,
    playButtonOverlay: !0,
    bufferingOverlay: !0,
    scaleMode: "letterbox",
    posterScaleMode: "letterbox",
    controlBarMode: "docked",
    volumeBarVisible: !0,
    qualitiesVisible: !0,
    fullscreenVisible: !0,
    controlBarHotButtons: "",
    controlBarTooltipsEnabled: !1,
    skin: "flumotion_v3",
    primaryColor: "#000000",
    secondaryColor: "#ff0000",
    tertiaryColor: "#ff0000",
    backgroundColor: "#000000"
}).factory("responseErrorInterceptor", ["$q", function(a) {
    return {
        responseError: function(b) {
            return 404 === b.status && $(".fmt.error404").show(), a.reject(b)
        }
    }
}]).config(["$httpProvider", function(a) {
    a.interceptors.push("responseErrorInterceptor")
}]).controller("FmtPlayerController", ["$rootScope", "$scope", "$filter", "$location", "fmtPlayerConfig", "WidgetAnalytics", "WidgetApi", "Parser", "BandwidthTester", function(a, b, c, d, e, f, g, h, i) {
    var j = this;
    this.setupConfiguration = function() {
        var a = _.defaults(_.pick(b, _.keys(e)), e);
        _.each(a, function(b, d) {
            a[d] = c("parse")(b)
        }), a.playerFlash && "videojs" !== a.playerFlash && (a.autoPlay = a.autoplayEnabled), a.api_referrer = a.apiReferrer, a.playerId = a.playerId || a.player, a.campaignId = a.campaignId || a.campaign || a.explicitCampaignId, a.error404ImageUrl = a.error404ImageUrl || a.livestreamOfflineImageURL, a.content && a.src && (a.srcExtraParams = a.src.substring(a.src.indexOf("?") + 1)), /iPhone|iPod|iPad/i.test(navigator.userAgent) && "videojs" !== a.playerFlash && (a.playerHtml5 = "browser"), b.config = a
    }, this.initialize = function() {
        b.config.content && b.config.statsEnabled && f.initialize(b.config), j.loadContent()
    }, this.loadContent = function() {
        b.config.content ? j.loadPod(b.config.content) : b.config.src && j.loadSrc(b.config.src)
    }, this.loadPod = function(a) {
        g.get("pods", a, {
            extended: !0
        }).then(function(a) {
            a.streams ? b.pod = a : j.loadStreams(a)
        })
    }, this.loadStreams = function(c) {
        var d = this;
        d.temppod = [], g.get("pods", c.id, "streams").then(function(e) {
            if (/iPhone|iPod|iPad/i.test(navigator.userAgent)) {
                var f = document.createElement("video");
                c.streams = _.filter(e, function(a) {
                    return a.url.match(/rtmp:/i) ? !1 : f.canPlayType(a.mimetype)
                })
            } else c.streams = _.map(e, function(a) {
                return (a.url.match(/\.flv(\b|\?|\#)/i) || a.url.match(/rtmp:/i)) && (a.mimetype = "video/x-flv"), a
            });
            if (b.pod = d.temppod = c, b.config.testBandwidth) {
                var g = [];
                i.setDuration(b.config.testBandwidthDuration);
                var h = i.testBandwidth();
                h.then(function(c) {
                    if (a.bandwidth = b.config.bitrate = c, b.$broadcast("gotBandwidth"), c > 0) {
                        var e = [],
                            f = [],
                            h = [];
                        d.temppod.streams.forEach(function(a) {
                            "mini" !== a.quality ? (a.bitrate < c ? e.push(a) : f.push(a), -1 === g.indexOf(a.bitrate) && g.push(a.bitrate)) : h.push(a)
                        }), _.sortBy(e, "bitrate"), _.sortBy(f, "bitrate"), f = f.reverse(), d.temppod.streams = e.concat(f).concat(h);
                        for (var i = 0; i < g.length; i++)
                            if (c > g[i] || i === g.length - 1) {
                                b.config.qualityIndex = i;
                                break
                            }
                        b.$broadcast("qualitySelected")
                    }
                    b.pod = d.temppod
                })
            } else b.pod = d.temppod
        })
    }, this.loadSrc = function(a) {
        if (a) {
            var d = c("extension")(a);
            if ("m3u" === d) h.parseM3u(a).then(function(a) {
                j.loadSrc(a)
            });
            else {
                d = "f4m" === d ? "mp4" : d;
                var e = {
                    url: a,
                    mimetype: ("mp3" === d ? "audio" : "video") + "/" + d
                };
                b.pod = {
                    streams: [e]
                }
            }
        }
    }, a.$on("fmtPodSelected", function(a, e) {
        e && e.id !== b.config.content && (b.config.content = e.id, b.pod && (b.config.autoplayEnabled = b.config.autoPlay = !0), b.config.seoEnabled && d.path(e.id + "/" + c("slug")(e.name)), j.loadStreams(e))
    }), b.$watch("config.src", j.loadSrc)
}]).directive("fmtPlayer", ["$parse", "fmtPlayerConfig", function(a, b) {
    var c = function() {
        var a = _.clone(b);
        return _.each(a, function(b, c) {
            a[c] = "@"
        }), a.onReady = "&", a
    };
    return {
        templateUrl: "template/player/player.html",
        controller: "FmtPlayerController",
        scope: c(),
        link: function(a, b, c, d) {
            d.setupConfiguration(), b.addClass(["fmt", "player", a.config.elementId].join(" ")), d.initialize(), a.$watch("src+techOrder+playerHtml5", d.setupConfiguration)
        }
    }
}]), window.onFlashCallbackFunction = function(a, b, c) {
    var d = angular.element("#" + a).scope();
    d.$apply(function() {
        d.onFlashCallbackFunction(a, b, c)
    })
}, angular.module("fmt.player.browser", ["fmt.components.services.widget-analytics"]).directive("fmtPlayerBrowser", ["WidgetAnalytics", function(a) {
    return {
        templateUrl: "template/player/player-browser.html",
        require: "^fmtPlayer",
        replace: !0,
        scope: {
            pod: "=",
            config: "="
        },
        link: function(b, c) {
            b.$watch("config.autoplayEnabled", function(a) {
                a ? c.attr("autoplay", a) : c.removeAttr("autoplay")
            }), b.$watch("config.controlBarMode", function(a) {
                "none" !== a ? c.attr("controls", a) : c.removeAttr("controls")
            }), b.config.statsEnabled && a.startTracking(c[0], b.pod, b.config.channel)
        }
    }
}]), angular.module("fmt.player.videojs", ["fmt.components.services.url", "fmt.components.services.widget-api", "fmt.components.services.widget-analytics", "fmt.components.services.widget-download"]).config(function() {
    $.ajaxSetup({
        cache: !0
    })
}).controller("FmtPlayerVideojsController", ["$rootScope", "$scope", "WidgetAnalytics", "WidgetApi", "WidgetDownload", "Url", function(a, b, c, d, e, f) {
    var g = ["application/x-mpegURL", "application/vnd.apple.mpegurl"],
        h = null !== navigator.userAgent.match(/TV/i),
        i = null !== (navigator.userAgent.match(/MSIE/i) || navigator.userAgent.match(/trident/i)),
        j = function(a) {
            var c = "",
                d = "",
                e = "",
                f = !1,
                g = b.config.qualities ? b.config.qualities.split(",") : [],
                h = _.intersection(g, _.map(a, function(a) {
                    return a.quality
                }));
            angular.forEach(a, function(a) {
                if (_.find(h, function(b) {
                        return b === a.quality
                    }) || !h.length && "mobile" !== a.quality && "mini" !== a.quality) {
                    var g = a.mimetype,
                        i = a.url.split("?").shift().split(".").pop();
                    a.url.search("rtmp://") >= 0 && (g = "rtmp/" + i), c += "<source src=" + a.url + " type=" + g + " label=" + a.quality + "></source>", null !== b.config.plugin_captioning && "" === e && angular.forEach(b.pod.captions, function(a) {
                        e += '<track kind="captions" src=' + a.public_url + " label=" + a.label + " default>"
                    }), null !== b.pod.vtt_url && "videojs" === b.config.playerFlash && (d = '<track kind="metadata" src=' + b.pod.vtt_url + "></track>"), f = f || /audio/i.test(a.mimetype)
                }
            });
            var i = $("." + b.config.elementId),
                j = ["video-js", "vjs-default-skin"];
            "transparent" === b.config.wmode && j.push("vjs-skin-transparent");
            var k = '<TAG_NAME id=ID class="CLASSES" width=WIDTH height=HEIGHT>STREAMS THUMB CAPTIONS</TAG_NAME>';
            return k.replace("ID", b.config.elementId).replace("TAG_NAME", f ? "audio" : "video").replace("WIDTH", i.width()).replace("HEIGHT", i.height()).replace("STREAMS", c).replace("THUMB", d).replace("CAPTIONS", e).replace("CLASSES", j.join(" "))
        },
        k = function() {
            var a = {
                    flashVars: {
                        javascriptCallbackFunction: "onFlashCallbackFunction"
                    }
                },
                c = b.config.playerSwfBaseUrl.replace(/^https:\/\//, "//"),
                e = "strobe" === b.config.playerFlash ? "PlayerStrobe.swf" : "StrobeMediaPlayback.swf";
            if (a.swf = f.joinUrl(c, e), b.config.playerId) {
                var g = f.joinUrl(d.getBaseUrl(), "player.xml", {
                    base_path: c + "/",
                    pod: b.config.content,
                    srcManifest: b.config.src,
                    player: b.config.playerId,
                    campaignId: b.config.campaignId,
                    srcExtraParams: b.config.srcExtraParams,
                    clipStartTime: b.config.start,
                    volume: b.config.volume,
                    autoPlay: b.config.autoPlay,
                    sharingPageURL: b.config.sharingPageURL,
                    qualityIndex: b.config.qualityIndex.toString(),
                    bitrate: b.config.bitrate.toString(),
                    livestreamOfflineImageURL: b.config.livestreamOfflineImageURL,
                    backgroundAlpha: "transparent" === b.config.wmode ? "0" : null
                });
                a.flashVars.configuration = encodeURIComponent(g)
            } else {
                var h = _.defaults({
                    base_path: c + "/",
                    apiURL: d.getBaseUrl() + "/",
                    apiKey: d.sign().api_key,
                    podId: b.config.content,
                    autoPlay: b.config.autoplayEnabled,
                    qualityIndex: b.config.qualityIndex.toString(),
                    bitrate: b.config.bitrate.toString()
                }, b.config);
                h = _.omit(h, "configuration");
                for (var i in h) !h.hasOwnProperty(i) || void 0 !== h[i] && null !== h[i] || delete h[i];
                a.flashVars = _.defaults(a.flashVars, h)
            }
            if (b.config.content && "strobe" === b.config.playerFlash && "cassidy" !== b.config.apiVersion) {
                var j = f.joinUrl(d.getBaseUrl(), "pods", b.config.content, "streams.f4m", d.sign());
                a.flashVars.srcManifest = encodeURIComponent(j)
            }
            return a
        },
        l = function(a) {
            var c = "en";
            null !== b.config.language && void 0 !== b.config.language && (c = b.config.language.split("_")[0]);
            var d = {
                controls: !1,
                preload: "auto",
                language: c,
                poster: (b.pod ? b.pod.video_image_url || b.pod.posterUrl : null) || b.config.posterUrl,
                autoplay: b.config.autoPlay,
                techOrder: a,
                html5: {
                    nativeTextTracks: !1
                },
                flash: {
                    params: {
                        allowFullScreen: !0,
                        wmode: "transparent"
                    }
                }
            };
            b.config.pseudoStreamingSeekParam && (d.flash.flashVars = {
                pseudoStreamStartParam: b.config.pseudoStreamingSeekParam
            });
            var e = !1;
            return e = e || /audio/i.test(b.pod.streams[0].mimetype), e || "videojs" !== b.config.playerFlash || (d.controlBar = {
                volumeMenuButton: {
                    inline: !1,
                    vertical: !0
                }
            }), b.config.playerFlash && "videojs" !== b.config.playerFlash && _.extend(d.flash, k()), b.config.dvr && (d.plugins = {
                fluDvr: {
                    active: !0
                }
            }), d
        },
        m = function() {
            if (b.playerVideoJs) {
                var a = $("." + b.config.elementId);
                b.playerVideoJs.width(a.width()).height(a.height())
            }
        },
        n = function() {
            b.changingQuality && (b.playerVideoJs.currentTime(b.changingQuality.time), b.changingQuality = null)
        },
        o = function() {
            b.config.start && b.playerVideoJs.currentTime(b.config.start)
        },
        p = function() {
            b.config.statsEnabled && b.playerVideoJs && c.startTracking(b.playerVideoJs, b.pod, b.config.channel);
            var d = {
                pod: b.pod,
                streams: b.pod.streams,
                currentStreamUrl: b.playerVideoJs ? b.playerVideoJs.currentSrc() : null
            };
            a.$emit("fmtPodReady", d)
        },
        q = function() {
            if (b.playerVideoJs = this, null !== b.pod.vtt_url && "videojs" === b.config.playerFlash) {
                var f = b.pod.vtt_url,
                    g = f.lastIndexOf("/"),
                    h = f.substring(0, g + 1);
                this.thumbnails({
                    basePath: h
                })
            }
            var i = "en",
                j = "Quality";
            if (null !== b.config.language && void 0 !== b.config.language) switch (i = b.config.language.split("_")[0]) {
                case "en":
                    j = "Quality";
                    break;
                case "es":
                    j = "Calidad";
                    break;
                case "ca":
                    j = "Qualitat";
                    break;
                case "fr":
                    j = "QualitÃ©"
            }
            if (this.videoJsResolutionSwitcher({
                    ui: !0,
                    "default": "high",
                    dynamicLabel: !1,
                    controlText: j
                }), null !== b.config.branding_uri) {
                var k = {
                    file: b.config.branding_uri,
                    xrepeat: 0,
                    opacity: 1
                };
                if (null !== b.config.branding_clickThroughURL) {
                    var l = b.config.branding_clickThroughURL; - 1 === b.config.branding_clickThroughURL.search("//") && (l = "//" + b.config.branding_clickThroughURL), k.clickable = !0, k.url = l
                }
                switch (b.config.branding_verticalAlign) {
                    case "top":
                        k.ypos = 0;
                        break;
                    case "middle":
                        k.ypos = 50;
                        break;
                    case "bottom":
                        k.ypos = 100
                }
                switch (b.config.branding_horizontalAlign) {
                    case "left":
                        k.xpos = 0;
                        break;
                    case "center":
                        k.xpos = 50;
                        break;
                    case "right":
                        k.xpos = 100
                }
                b.playerVideoJs.watermark(k)
            }
            var m = b.config.explicit_campaign_id || b.config.campaignId || b.config.campaign;
            if (void 0 !== m && "videojs" === b.config.playerFlash) {
                var q = "",
                    r = b.pod.id;
                d.get("campaign", m, "mast.xml").then(function(a) {
                    var c = 0,
                        d = "True",
                        e = a.match(/uri="(.*?)"/);
                    c = a.match(/delay="(.*?)"/)[1], d = a.match(/enabled="(.*?)"/)[1], "False" === d && (c = "-1"), e.length > 1 && (q = e[1]), -1 === q.indexOf("?") && (q = q + "?videojs=true&video_id=" + r + "&campaign_id=" + m, b.config.explicit_campaign_id && (q = q + "&explicit_campaign_id=" + b.config.explicit_campaign_id)), b.playerVideoJs.ads(), b.playerVideoJs.vast({
                        url: q,
                        skip: c
                    })
                })
            }
            if ("none" !== b.config.controlBarMode && (this.controls(!0), -1 !== b.config.controlBarHotButtons.indexOf("download") && b.pod.livestream === !1)) {
                var s = this;
                d.get("pods", b.pod.id, "streams", {
                    cdn_type: "flumotion"
                }).then(function(a) {
                    e.initialize(b.playerVideoJs.currentSrc(), a), s.getChild("controlBar").addChild("DownloadButton")
                })
            }
            $(".vjs-volume-menu-button").insertBefore($(".vjs-fullscreen-control"));
            var t = b.config.volume;
            "string" == typeof t && (t = parseFloat(b.config.volume.replace(",", "."))), this.volume(t), b.onReady({
                player: this
            }), this.on("loadeddata", n), this.on("durationchange", o), this.on("ended", function() {
                a.$emit("fmtPodFinished")
            }), this.one("play", function() {
                if (b.config.statsEnabled) {
                    var a = "hit",
                        d = null,
                        e = null;
                    c.trackEvent(a, d, b.pod, e)
                }
            }), b.changingQuality && !b.changingQuality.paused && this.play(), p()
        },
        r = function(a) {
            var b = !1,
                c = document.createElement("video");
            return c.canPlayType && (b = _.some(a, function(a) {
                return c.canPlayType(a)
            })), b
        };
    "strobe" === b.config.playerFlash && (videojs.getTech("Flash").formats = _.extend(videojs.getTech("Flash").formats, {
        "audio/flv": "FLV",
        "audio/x-flv": "FLV",
        "audio/mp3": "FLV",
        "audio/m4a": "FLV",
        "audio/mpeg": "FLV"
    })), this.initialize = function() {
        if (b.pod && $(".player-wrapper")) {
            b.playerVideoJs = null;
            var a = j(b.pod.streams);
            $("." + b.config.elementId + " .player-wrapper").html(a);
            var c = b.config.techOrder.split("_");
            r(_.pluck(b.pod.streams, "mimetype")) || (c = _.without(c, "html5"));
            var d = b.pod.streams[0].mimetype;
            $.inArray(d, g) > -1 && (c = ["html5"], (h || i) && (c = ["flash"]));
            var e = l(c);
            b.videoTag = $("#" + b.config.elementId)[0];
            var f = !1 || /iPad|iPod|iPhone/i.test(navigator.userAgent);
            f && null !== b.config.plugin_captioning && (e.html5.nativeTextTracks = !0, $(b.videoTag).attr("crossorigin", "anonymous")), videojs(b.videoTag, e).ready(q)
        }
    }, $(window).resize(m), a.$on("fmtPodQualitySelected", function(a, c) {
        b.changingQuality = {
            time: b.playerVideoJs.currentTime(),
            paused: b.playerVideoJs.paused()
        }, b.pod.streams = [c.stream], b.playerVideoJs.controls(!1)
    }), b.onFlashCallbackFunction = function(d, e, f) {
        if ("onJavaScriptBridgeCreated" === e ? p() : "complete" === e ? a.$emit("fmtPodFinished", b.pod) : "metadataChanged" === e && a.$emit("fmtPodMetadataChanged", f.value), b.config.statsEnabled) {
            var g = f ? f.value : null,
                h = f ? f.gatewayId : null;
            c.trackEvent(e, g, b.pod, h)
        }
    }
}]).directive("fmtPlayerVideojs", function() {
    return {
        templateUrl: "template/player/player-videojs.html",
        controller: "FmtPlayerVideojsController",
        replace: !0,
        scope: {
            pod: "=",
            config: "=",
            onReady: "&"
        },
        link: function(a, b, c, d) {
            var e = !1;
            a.$watch("pod", function(b) {
                b && b.streams && a.config.techOrder && (e ? "undefined" != typeof videojs && (a.config.testBandwidth ? a.$on("gotBandwidth", function() {
                    d.initialize()
                }) : d.initialize()) : (e = !0, a.config.testBandwidth ? a.$on("gotBandwidth", function() {
                    d.initialize()
                }) : d.initialize()))
            })
        }
    }
}), angular.module("fmt.playlist", ["fmt.components.filters.duration", "fmt.components.filters.parse", "fmt.components.services.widget-api"]).constant("fmtPlaylistConfig", {
    elementId: "fmt-playlist",
    content: null,
    cssUrl: null,
    nameVisible: !0,
    thumbVisible: !0,
    durationVisible: !0,
    likesVisible: !0,
    dateVisible: !1,
    columns: 1,
    currentItemId: null,
    autoAdvanceEnabled: !1
}).controller("FmtPlaylistController", ["$window", "$document", "$rootScope", "$scope", "$http", "$timeout", "$location", "WidgetApi", function(a, b, c, d, e, f, g, h) {
    var i = this;
    this.selectItemById = function(a) {
        if (d.config.currentItemId = a, d.items && d.items.length && "none" !== a) {
            var b = _.find(d.items, function(b) {
                return parseInt(b.id) === parseInt(a)
            });
            d.selectItem(b || d.items[0])
        }
    }, this.onContentLoaded = function(a) {
        a = a.data || a, d.items = a.items || a;
        var b, c = g.path().match(/^\/(\d+)\//);
        c && c.length > 1 && (b = _.find(d.items, function(a) {
            return a.id + "" === c[1]
        })), b ? d.selectItem(b) : i.selectItemById(d.config.currentItemId)
    }, this.initialize = function() {
        d.config.content && (angular.isNumber(d.config.content) ? h.get("smartlists", d.config.content, "items").then(i.onContentLoaded) : d.config.content.match(/^http/i) || d.config.content.match(/^\/\//i) ? e.get(d.config.content).then(i.onContentLoaded) : h.get(d.config.content).then(i.onContentLoaded))
    }, d.itemClass = function(a) {
        var b = {
            active: d.currentItem && a.id === d.currentItem.id
        };
        return d.config.columns <= 6 && d.config.columns > 1 && (b["col-md-" + 12 / d.config.columns] = !0), b
    }, d.selectItem = function(a) {
        a.position = d.items.indexOf(a), c.$emit("fmtPodSelected", a)
    }, c.$on("fmtPodSelected", function(a, b) {
        f(function() {
            d.currentItem = b
        })
    }), c.$on("fmtPodFinished", function(a, b) {
        if (d.currentItem && d.currentItem.id === b.id && d.config.autoAdvanceEnabled) {
            var c = d.items.indexOf(d.currentItem) + 1;
            c < d.items.length && d.selectItem(d.items[c])
        }
    })
}]).directive("fmtPlaylist", ["$filter", "fmtPlaylistConfig", function(a, b) {
    var c = function() {
        var a = angular.copy(b);
        return angular.forEach(a, function(b, c) {
            a[c] = "@"
        }), a
    };
    return {
        restrict: "A",
        templateUrl: "template/playlist/playlist.html",
        controller: "FmtPlaylistController",
        scope: c(),
        link: function(c, d, e, f) {
            var g = function() {
                var d = _.defaults(_.pick(c, _.keys(b)), b);
                _.each(d, function(b, c) {
                    d[c] = a("parse")(b)
                }), c.config = d
            };
            g(), d.addClass(["fmt", "fmt-playlist", c.config.elementId].join(" ")), f.initialize();
            var h = _.without(_.keys(b), "currentItemId").join("+");
            c.$watch(h, g), c.$watch("currentItemId", f.selectItemById)
        }
    }
}]).directive("fmtPlaylistItem", function() {
    return {
        templateUrl: "template/playlist/playlist-item.html",
        require: "^fmtPlaylist"
    }
}), angular.module("fmt.addthis", ["fmt.components.filters.parse", "fmt.components.services.bitly"]).constant("fmtAddthisConfig", {
    elementId: "fmt-addthis",
    pubid: "ra-52f8a2223eb7c112",
    size: "large",
    usePreferred: !0,
    numPreferred: 5,
    url: null,
    addthisTitle: null,
    addthisDescription: null,
    buttons: ["facebook", "google_plusone_share", "twitter", "linkedin", "tuenti"]
}).controller("FmtAddthisController", ["$rootScope", "$scope", "$location", "$http", "Url", "Bitly", function(a, b, c, d, e, f) {
    var g = this;
    this.toolboxTag = null, b.toolboxClass = function(a) {
        return {
            addthis_default_style: !0,
            addthis_32x32_style: "large" === a
        }
    }, b.range = function(a) {
        return a ? _.range(a) : []
    }, this.initAddthis = function(a) {
        a && $.getScript("//s7.addthis.com/js/300/addthis_widget.js#pubid=" + a + "&async=1", function() {
            addthis.init(), g.updateAddthis()
        })
    }, this.updateAddthis = function(a) {
        "undefined" != typeof addthis && f.makeItShort(b.config.url || c.absUrl()).then(function(c) {
            addthis.update("share", "url", c), addthis.update("share", "title", b.config.addthisTitle || (a ? a.name : "Video")), addthis.update("share", "description", b.config.addthisDescription || (a ? a.description : "")), addthis.toolbox(g.toolboxTag, {
                data_track_addressbar: !1,
                data_track_clickback: !1
            })
        })
    }, this.onPodChanged = function(a, b) {
        var c = b.pod || b;
        c.streams = c.streams || b.streams || [], g.updateAddthis(c)
    }
}]).directive("fmtAddthis", ["$rootScope", "$filter", "fmtAddthisConfig", function(a, b, c) {
    var d = function() {
        var a = _.clone(c);
        return _.each(a, function(b, c) {
            a[c] = "@"
        }), a
    };
    return {
        templateUrl: "template/addthis/addthis.html",
        controller: "FmtAddthisController",
        scope: d(),
        link: function(d, e, f, g) {
            var h = function() {
                var a = {};
                _.each(c, function(e, f) {
                    a[f] = angular.isDefined(d[f]) ? "buttons" === f ? d[f].split(",") : b("parse")(d[f]) : c[f]
                }), d.config = a
            };
            h(), e.addClass(["fmt", "addthis", d.config.elementId].join(" ")), g.toolboxTag = e.children(".addthis_toolbox")[0], g.initAddthis(d.config.pubid), d.$watch("pubid", g.initAddthis), d.$watch("size+buttons+usePreferred+numPreferred", h), d.$watch("url+addthisTitle+addthisDescription", function() {
                h(), g.updateAddthis()
            }), a.$on("fmtPodReady", g.onPodChanged), a.$on("fmtPodSelected", g.onPodChanged)
        }
    }
}]).directive("fmtAddthisButton", function() {
    return {
        require: "^fmtAddthis",
        link: function(a, b, c, d) {
            a.$last && d.updateAddthis()
        }
    }
}), angular.module("fmt.widget", ["fmt.components.services.widget-api", "fmt.components.services.url", "fmt.components.filters.decamelize", "fmt.components.filters.parse"]).constant("fmtWidgetConfig", {
    baseUrl: window.fmtBaseUrl || "",
    playsiteTemplates: {
        player_social: "player,social",
        player_hlist: "player,playlist",
        player_hlist_social: "player,playlist,social",
        player_vlist: "player,playlist"
    }
}).constant("fmtPlaysiteConfig", {
    tmpl: "player_hlist"
}).directive("fmtWidget", ["$window", "$location", "$http", "$filter", "$compile", "$sce", "WidgetApi", "Url", function(a, b, c, d, e, f, g, h) {
    return {
        scope: {
            fmtWidget: "@",
            fmtBaseUrl: "@",
            elementId: "@",
            parseUrl: "@",
            content: "@",
            wrapper: "@",
            configuration: "="
        },
        link: function(c, f) {
            var i = function(a) {
                    f.append(a), e(f.contents())(c)
                },
                j = function() {
                    var a = c.wrapper + "#?" + h.encodeQueryData({
                        fmtWidget: c.fmtWidget,
                        content: c.content
                    });
                    c.iframeSrc = a, i('<iframe ng-src="{{iframeSrc}}" width="100%" height="100%" allowFullScreen webkitAllowFullScreen mozAllowFullScreen frameBorder="0" allowtransparency="true"></iframe>')
                },
                k = function(a) {
                    c.tmplUrl = "template/playsite/" + a.tmpl + ".html", c.widgetPlayerId = a.player, c.widgetPlaylistId = a.playlist, c.widgetAddthisId = a.addthis, c.content = a.content, i('<div ng-include="tmplUrl" style="height: 100%;"></div>')
                },
                l = function(a, b) {
                    var e = angular.element("<div fmt-" + a + ' style="height: 100%;"></div>'),
                        f = angular.extend(b, {
                            elementId: c.elementId,
                            content: c.content || b.content
                        });
                    _.each(f, function(a, b) {
                        e.attr(d("decamelize")(b), a)
                    }), i(e)
                },
                m = function(a) {
                    var b = a.widgetType;
                    return b || angular.forEach(a, function(a, c) {
                        /fmt-/.test(c) && (b = c)
                    }), b
                },
                n = function(a) {
                    var b = m(a);
                    b && (delete a[b], b = b.replace("fmt-", "")), "playsite" === b ? k(a) : l(b || "widget", a)
                },
                o = function(a) {
                    g.get("widgets", a).then(function(a) {
                        var b = angular.fromJson(a.configuration);
                        "playsite" === a.type ? k(b) : l(a.type, b)
                    })
                },
                p = function() {
                    if (f.empty(), c.wrapper) j();
                    else if (d("parse")(c.parseUrl)) {
                        var a = angular.copy(b.search());
                        n(a)
                    } else c.configuration ? n(c.configuration) : c.fmtWidget && o(c.fmtWidget)
                };
            c.fmtBaseUrl && (a.fmtBaseUrl = c.fmtBaseUrl), d("parse")(c.parseUrl) ? c.$on("$locationChangeSuccess", function() {
                p()
            }) : (c.$watch("fmtWidget+wrapper", p), c.$watch("configuration", p, !0))
        }
    }
}]), angular.module("fmt.metadata", ["fmt.components.filters.parse", "fmt.components.services.widget-api"]).constant("fmtMetadataConfig", {
    elementId: "fmt-metadata",
    interval: 15e3
}).controller("FmtMetadataController", ["$scope", "$filter", "fmtMetadataConfig", function(a, b, c) {
    var d = this;
    d.setupConfiguration = function() {
        var d = _.defaults(_.pick(a, _.keys(c)), c);
        _.each(d, function(a, c) {
            d[c] = b("parse")(a)
        }), a.config = d
    }
}]).directive("fmtMetadata", ["$rootScope", "$timeout", "fmtMetadataConfig", "WidgetApi", function(a, b, c, d) {
    var e = function() {
        var a = angular.copy(c);
        return angular.forEach(a, function(b, c) {
            a[c] = "@"
        }), a
    };
    return {
        templateUrl: "template/metadata/metadata.html",
        controller: "FmtMetadataController",
        scope: e(),
        link: function(c, e, f, g) {
            g.setupConfiguration(), e.addClass(["fmt", "fmt-metadata"].join(" ")), c.fetchMetadata = function() {
                d.get("active", {
                    podId: c.currentPodId
                }).then(function(a) {
                    var d = angular.fromJson(a.value);
                    c.metadata = angular.extend(c.metadata, d), b(c.fetchMetadata, c.config.interval)
                })
            }, a.$on("fmtPodReady", function(a, b) {
                b.pod && c.currentPodId !== b.pod.id && (c.metadata = angular.copy(b.pod), c.currentPodId = b.pod.id, c.fetchMetadata())
            })
        }
    }
}]), angular.module("fmt.layout", []).directive("fmtLayout", function() {
    function a(a) {
        a.css({
            position: "relative",
            overflow: "hidden"
        }), $(a).attr("data-fmt-flex") || (a[0].offsetWidth || a.css({
            width: a.children()[0].offsetWidth + "px"
        }), a[0].offsetHeight || a.css({
            height: a.children()[0].offsetHeight + "px"
        }));
        var b = 1e3;
        a.children().each(function() {
            var a = $(this).attr("data-fmt-flex");
            $(this).css(1 === a ? {
                position: "absolute",
                top: "0px",
                bottom: "0px",
                left: "0px",
                right: "0px"
            } : {
                position: "absolute",
                top: $(this).attr("top") || "0px",
                left: $(this).attr("left") || "0px",
                right: $(this).attr("right") || "0px",
                "z-index": b++
            })
        })
    }

    function b(a, b) {
        a.css({
            overflow: "hidden"
        });
        var c = function() {
            var c = a.children().map(function() {
                    var a = $(this).attr("data-fmt-flex") || "1";
                    return a
                }).get(),
                d = 0,
                e = 1;
            _.each(c, function(a) {
                var b = /px$/.test(a);
                a = parseInt(a, 10), b ? e += a : d += a
            });
            var f = ("horizontal" === b ? a.width() : a.height()) - e;
            _.each(c, function(c, e) {
                var g = a.children().eq(e);
                /px$/.test(c) || (c = Math.round(parseInt(c, 10) / d * f)), "horizontal" === b ? (g.css("height", a.height()), g.css("width", c), g.css("float", "left")) : (g.css("height", c), g.css("width", a.width()))
            })
        };
        $(window).resize(c), c()
    }
    return {
        restrict: "A",
        scope: !0,
        compile: function(c, d) {
            var e = d.fmtLayout || "horizontal";
            return "overlay" === e ? function() {
                a($(c))
            } : function() {
                b($(c), e)
            }
        }
    }
}), angular.module("fmt.controllers.cbnews", []).controller("CbnewsCtrl", ["$rootScope", "$scope", "$location", "$filter", "$http", "$timeout", "apiConfig", "Url", function(a, b, c, d, e, f, g, h) {
    var i = !1;
    $("#social").mouseenter(function() {
        i = !0
    }).mouseleave(function() {
        i = !1
    }), window.onControlBarVisible = function(a) {
        a ? $("#social").show() : i || $("#social").fadeOut()
    };
    var j = function(a, b) {
            var c = d("filter")(a.extra_fields, {
                name: b
            });
            return c && c.length ? c[0].value : null
        },
        k = function(a, d) {
            b.emailUrl = b.sharingUrl = d || a, b.sharingIframe = '<iframe src="' + c.absUrl() + '" scrolling="no" frameborder="0" width="640px" height="264px"></iframe>'
        };
    b.like = function() {
        b.likeDisabled = !0;
        var a = {
                vote: 5
            },
            c = h.joinUrl(g.baseUrl, "video", b.pod.id, "vote");
        e.post(c, a).then(function() {
            b.pod.total_rates++
        }, function() {})
    };
    var l = function(a, c) {
        var f = c.pod || c;
        b.pod = f, b.fields = {
            produit: j(f, "produit"),
            marque: j(f, "marque"),
            pays: j(f, "pays")
        };
        var g = d("slug")((b.fields.marque || "") + " " + (b.fields.produit || "") + " " + (f.title || f.name));
        b.url = "http://www.culturepub.fr/videos/" + g;
        var i = h.joinUrl("https://api-ssl.bitly.com/v3/shorten", {
            access_token: "a849b0d5aa6d017b04843097b122a59b6d1f5413",
            longUrl: b.url
        });
        e.get(i).success(function(a) {
            k(b.url, a.data.url)
        }).error(function() {
            k(b.url)
        })
    };
    a.$on("fmtPodReady", l)
}]), angular.module("fmt.jwplayer", ["fmt.components.services.loader-manager"]).constant("fmtJwplayerConfig", {
    id: "angular-jwplayer",
    vast: null
}).directive("fmtJwplayer", ["$rootScope", "$q", "$filter", "$location", "fmtJwplayerConfig", "fmtPlayerConfig", "LoaderManager", "WidgetAnalytics", "apiConfig", function(a, b, c, d, e, f, g, h, i) {
    return {
        scope: {
            content: "@",
            player: "@"
        },
        template: function() {
            return '<div id="' + e.id + '"></div>'
        },
        link: function(b, j) {
            var k = function() {
                    var a = _.defaults(_.pick(b, _.keys(e)), e);
                    _.each(a, function(b, d) {
                        a[d] = c("parse")(b)
                    }), a.content = a.pod || a.src || a.content || b.content, b.config = a
                },
                l = function(a, b) {
                    if (a[0].url.search("rtmp") >= 0) {
                        var c = i.baseUrl + "/smilfile.smil?pk=" + b.id;
                        return {
                            file: c
                        }
                    }
                    var d = _.map(a, function(a) {
                        return {
                            file: a.url,
                            label: a.quality,
                            type: a.mimetype
                        }
                    });
                    return d.forEach(function(a, b) {
                        if (a.hasOwnProperty("file")) {
                            var c = a.file.split(".").pop();
                            c = c.split("?").shift(), "flv" === c && (d[b].type = "flv")
                        }
                    }), d.forEach(function(a, b) {
                        return /\.(smil)$/i.test(a.file) ? (d.splice(b, 1), void d.unshift(a)) : void 0
                    }), _.reject(d, function(a) {
                        return "mini" === a.label || "mobile" === a.label
                    })
                },
                m = function() {
                    return f.plugin_branding && f.branding_uri ? {
                        file: f.branding_uri,
                        link: f.branding_clickThroughURL || null,
                        position: f.branding_verticalAlign + "-" + f.branding_horizontalAlign
                    } : null
                },
                n = function() {
                    if (!f.plugin_share) return null;
                    var a = b.config.sharingPageURL || d.absUrl();
                    return {
                        link: a,
                        code: '<iframe src="' + a + '" width="480" height="270" frameborder="0" scrolling="no"/>'
                    }
                },
                o = function(a, c) {
                    if (void 0 !== a) {
                        var d = a.vast || b.config.vast,
                            e = "Skip",
                            f = "This ad will end in xx seconds.",
                            g = "Advertisement";
                        switch (c) {
                            case "es_ES":
                                e = "Saltar", f = "Este anuncio terminarÃ¡ en xx segundos.", g = "Anuncio";
                                break;
                            case "ca_CA":
                                e = "Saltar", f = "Aquest anunci acabarÃ  en xx segonds.", g = "Anunci"
                        }
                        var h = parseInt(a.skip_ad_button_delay);
                        return d ? {
                            client: "vast",
                            tag: d,
                            skipoffset: h,
                            skiptext: e,
                            admessage: f,
                            cuetext: g
                        } : null
                    }
                    return null
                },
                p = function(a) {
                    var b = [];
                    if (void 0 !== a && a.vtt_url) b.push({
                        file: a.vtt_url,
                        kind: "thumbnails"
                    });
                    else if (0 === a.captions.length || null === f.plugin_captioning) return null;
                    if (null !== f.plugin_captioning)
                        for (var c = 0; c < a.captions.length; c++) void 0 !== a && a.captions[c].public_url && b.push({
                            file: a.captions[c].public_url,
                            kind: "captions",
                            label: a.captions[c].label
                        });
                    return b
                },
                q = function(a) {
                    var b = a.scale_mode;
                    switch (b) {
                        case "letterbox":
                            return "uniform";
                        case "stretch":
                            return "exactfit";
                        case "zoom":
                            return "fill";
                        default:
                            return "none"
                    }
                },
                r = function(a, b) {
                    var c = {};
                    return a.hasOwnProperty("livestream") && a.livestream === !0 && b.forEach(function(a) {
                        return a.hasOwnProperty("rtmpsubscribe") && a.rtmpsubscribe === !0 ? (c.subscribe = !0, c) : void 0
                    }), c
                },
                s = function() {
                    var a = {},
                        b = i.baseUrl + "/related_content.rss";
                    return a.file = b, a.onclick = "play", a
                },
                t = function(a) {
                    var b = parseInt(jwplayer.version.split(".")[0]),
                        c = a ? a.skin : null;
                    if (6 === b) {
                        var d = e.jwplayer_custom_skins.split(",");
                        return -1 !== d.indexOf(a.skin) ? i.baseUrl + "/player_skin.xml?skin_name=" + a.skin : c
                    }
                    return {
                        name: c,
                        url: i.baseUrl + "/player_skin.css?skin_name=" + a.skin
                    }
                },
                u = function(a, b, c, d) {
                    var e = "Live broadcast";
                    switch (a.locale) {
                        case "es_ES":
                            e = "Directo";
                            break;
                        case "ca_CA":
                            e = "Directe"
                    }
                    var g = !1;
                    a.hasOwnProperty("muted") && a.muted === !0 && (g = !0);
                    var h = f.techOrder.split("_"),
                        i = h[0];
                    return i = "flash" === i || "html5" === i ? i : "flash", {
                        width: "100%",
                        height: "100%",
                        autostart: d || a ? a.auto_play : !1,
                        repeat: a ? a.loop : !1,
                        sources: l(c, b),
                        image: b ? b.video_image_url : null,
                        logo: m(),
                        sharing: n(),
                        advertising: o(b, a.locale),
                        tracks: p(b),
                        skin: t(a),
                        stretching: q(a),
                        primary: i,
                        androidhls: !0,
                        title: e,
                        rtmp: r(b, c),
                        mute: g
                    }
                },
                v = function(c, d, i) {
                    angular.element(e.id).empty();
                    var j = e.explicit_campaign_id || e.campaignId || e.campaign,
                        k = e.skip_button_delay;
                    g.load(c, d, j, k).then(function(c) {
                        if (!f.flash) {
                            var d = [];
                            angular.forEach(c.streams, function(a) {
                                a.url.search("http") >= 0 && d.push(a)
                            }), c.streams = d
                        }
                        var g = u(c.player, c.pod, c.streams, i),
                            j = e.jwplayer_rel_video_player;
                        parseInt(j) === c.player.id && (g.related = s());
                        var k = jwplayer(e.id).setup(g);
                        null !== c.player.controlbar_hotbuttons && -1 !== c.player.controlbar_hotbuttons.indexOf("download") && c.pod.livestream === !1 && k.addButton(e.downloadImgPath, "Download Video", function() {
                            var a = k.getPlaylistItem().file,
                                b = [],
                                d = [];
                            angular.forEach(c.streams, function(a) {
                                a.url.search("http") >= 0 ? d.push(a.url) : b.push(a.url)
                            }), a.search("rtmp") >= 0 && angular.forEach(b, function(b, c) {
                                b === a && (a = d[c])
                            }), a.search("smilfile") >= 0 && (a = d[0]), a += -1 !== a.indexOf("?") ? "&download=1" : "?download=1", window.location.href = a
                        }, "download"), f.hasOwnProperty("livestreamOfflineImageURL") && k.onSetupError(function() {
                            var a = f.livestreamOfflineImageURL,
                                b = "position: absolute; top: 0; bottom:0; left: 0; right: 0; margin: auto;";
                            document.getElementById(e.id).innerHTML = '<img style="' + b + '" src="' + a + '"/>'
                        }), h.initialize(), h.startTracking(k, c.pod, b.config.channel), a.$emit("fmtPodReady", c)
                    })
                };
            a.$on("fmtPodSelected", function(a, c) {
                var d = b.config.content && b.config.content !== c.id;
                b.config.content = c.id, v(b.config.content, null, d)
            }), j.addClass("fmt-jwplayer"), k(), (b.config.content || b.config.player) && (void 0 === b.config.player && (b.config.player = f.playerId), v(b.config.content, b.config.player))
        }
    }
}]);
angular.module("fmt").run(["$templateCache", function(a) {
    "use strict";
    a.put("template/addthis/addthis.html", '<div class="addthis_toolbox" ng-class="toolboxClass(config.size)">\n\n  <!--Using preferred buttons-->\n  <a ng-if="config.usePreferred"\n     ng-repeat="i in range(config.numPreferred)"\n     ng-class="\'addthis_button_preferred_\' + (i + 1)"\n     fmt-addthis-button></a>\n\n  <!--Using predefined buttons-->\n  <a ng-if="!config.usePreferred"\n     ng-repeat="button in config.buttons"\n     ng-class="\'addthis_button_\' + button"\n     fmt-addthis-button></a>\n</div>'), a.put("template/metadata/metadata.html", '<table class="table table-hover">\n  <tr ng-repeat="(key, value) in metadata">\n    <td>{{key}}</td>\n    <td>{{value}}</td>\n  </tr>\n</table>'), a.put("template/player/player-browser.html", '<video ng-src="{{pod.streams[0].url}}" width="100%" height="100%" style="width: 100%; height: 100%;">\n  Your browser does not support the video tag.\n</video>'), a.put("template/player/player-videojs.html", '<div>\n  <div class="player-wrapper"></div>\n  <div ng-if="config.podThumbsUrl" class="visual-seeking tooltip top in">\n    <div class="tooltip-arrow"></div>\n    <div class="tooltip-inner">\n      <span class="img"></span><span class="time"></span>\n    </div>\n  </div>\n</div>'), a.put("template/player/player.html", '<!-- VideoJS -->\n<div ng-if="config.playerHtml5===\'videojs\'" fmt-player-videojs pod="pod" config="config" on-ready="onReady({player: player})"></div>\n\n<!-- Browser -->\n<div ng-if="config.playerHtml5===\'browser\'" fmt-player-browser pod="pod" config="config"></div>\n\n<!-- Error -->\n<div class="fmt error404" style="background-image: url({{config.error404ImageUrl}})"></div>\n'), a.put("template/playlist/playlist-item.html", '<div class="media">\n  <div class="pull-left thumb-wrap" ng-if="config.thumbVisible" style="position: relative; width: 143px;">\n    <img ng-src="{{item.thumbnail_url}}" class="pull-left" style="width: 100%;">\n      <span class="label label-default label-overlay"\n            ng-if="config.durationVisible"\n            style="position: absolute; bottom: 2px; right: 2px;">\n        {{item.livestream?\'live\':(item.duration|duration)}}\n      </span>\n  </div>\n  <div class="media-body">\n    <h4 class="list-group-item-heading" ng-if="config.nameVisible">{{item.name || item.title}}</h4>\n    <p class="list-group-item-text" ng-if="config.likesVisible">\n      {{item.total_rates || item.likes}} likes\n    </p>\n    <p class="list-group-item-text" ng-if="config.dateVisible">\n' + "      {{(item.creationDate || item.created_on).replace(' ', 'T') | date:'mediumDate'}}\n    </p>\n  </div>\n</div>"), a.put("template/playlist/playlist.html", '<div class="list-group container-fluid" style="padding: 0; margin-bottom: 0; height: 100%; overflow: auto;">\n    <a ng-repeat="item in items"\n       fmt-playlist-item\n       item="item"\n       fields="config.itemFields"\n       ng-href=""\n       ng-click="selectItem(item)"\n       class="list-group-item"\n       ng-class="itemClass(item)">\n    </a>\n</div>'), a.put("template/playsite/cbnews.html", '<div fmt-layout="horizontal" style="height: 100%" ng-controller="CbnewsCtrl">\n  <div fmt-layout="overlay" flex="1">\n    <div fmt-player\n         skin="cbnews_v1"\n         data-fmt-flex=1 style="bottom: 0px;"></div>\n\n    <div id="social" class="fmt fmt-social cbnews_v1" ng-init="collapsed = true" style="display: none;">\n      <div ng-show=!error>\n        <div class="table share">\n          <div class="row">\n            <table class="table collapsed">\n              <tr>\n                <td class=pod-info>\n                  <a class="name" target=_blank ng-href="{{url}}">{{pod.title || pod.name}}</a>\n                  <span class="extra-field">{{fields.marque}}</span>\n                  <span class="extra-field" ng-if="fields.pays">-&nbsp;&nbsp;&nbsp;&nbsp;{{fields.pays}}</span>\n                </td>\n                <td class="actions">\n                  <a class=logo target=_blank href="http://www.culturepub.fr"></a>\n                  <button class=expand ng-click="collapsed = !collapsed"\n                          ng-class="collapsed?\'\':\'disabled\'"></button>\n                  <button class=like ng-click="like()" ng-disabled=likeDisabled>{{pod.total_rates}}</button>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n        <div ng-hide="collapsed">\n          <div class="table social">\n            <div class="row url">\n              <div class="cell icon"></div>\n              <div class="cell value embed">\n                <input type=text readonly=readonly value="{{sharingUrl}}">\n              </div>\n              <div class="cell action">\n                <div class="social"\n                     fmt-addthis\n                     use-preferred="false"\n                     buttons="facebook,twitter,google_plusone_share"></div>\n              </div>\n            </div>\n          </div>\n          <div class="table iframe">\n            <div class="row iframe">\n              <div class="cell icon"></div>\n              <div class="cell value">\n                <input class="auto" type=text readonly=readonly value="{{sharingIframe}}">\n              </div>\n            </div>\n          </div>\n          <div class="close">\n            <span class="closeButton" ng-click="collapsed = true"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div fmt-playlist class="cbnews_v1"\n       content="{{content}}"\n       auto-advance-enabled="true"\n       columns="2"\n       data-fmt-flex="340px"></div>\n</div>\n\n<script id="template/playlist/playlist.html" type="text/ng-template">\n  <div class="list-group container-fluid" style="padding: 0; margin-bottom: 0; height: 100%; overflow: auto;">\n    <a ng-repeat="item in items"\n       fmt-playlist-item\n       item="item"\n       fields="config.itemFields"\n       ng-href=""\n       ng-click="selectItem(item)"\n       class="list-group-item"\n       ng-class="itemClass(item)">\n    </a>\n  </div>\n</script>\n\n<script id="template/playlist/playlist-item.html" type="text/ng-template">\n  <div class="media">\n    <div class="pull-left thumb-wrap">\n      <div class="img-border">\n        <img data-ng-src="{{item.thumbnail_url}}" class="pull-left">\n        <div class="img-overlay"></div>\n      </div>\n    </div>\n    <div class="media-body">\n      <h4 class="list-group-item-heading">{{item.name || item.title}}</h4>\n    </div>\n  </div>\n</script>'), a.put("template/playsite/cbnews_playlist.html", '<div fmt-layout="horizontal" style="height: 100%">\n  <div fmt-player\n       skin="cbnews_v1"\n       data-fmt-flex=1 style="bottom: 0px;"></div>\n  <div fmt-playlist class="cbnews_v1"\n       content="{{content}}"\n       auto-advance-enabled="true"\n       columns="2"\n       data-fmt-flex="340px"></div>\n</div>\n\n<script id="template/playlist/playlist.html" type="text/ng-template">\n  <div class="list-group container-fluid" style="padding: 0; margin-bottom: 0; height: 100%; overflow: auto;">\n    <a ng-repeat="item in items"\n       fmt-playlist-item\n       item="item"\n       fields="config.itemFields"\n       ng-href=""\n       ng-click="selectItem(item)"\n       class="list-group-item"\n       ng-class="itemClass(item)">\n    </a>\n  </div>\n</script>\n\n<script id="template/playlist/playlist-item.html" type="text/ng-template">\n  <div class="media">\n    <div class="pull-left thumb-wrap">\n      <div class="img-border">\n        <img data-ng-src="{{item.thumbnail_url}}" class="pull-left">\n        <div class="img-overlay"></div>\n      </div>\n    </div>\n    <div class="media-body">\n      <h4 class="list-group-item-heading">{{item.name || item.title}}</h4>\n    </div>\n  </div>\n</script>'), a.put("template/playsite/cbnews_social.html", '<div fmt-layout="overlay" style="height: 100%" ng-controller="CbnewsCtrl">\n  <div fmt-player\n       content="{{content}}"\n       skin="cbnews_v1"\n       data-fmt-flex=1 style="bottom: 0px;"></div>\n\n  <div id="social" class="fmt fmt-social cbnews_v1" ng-init="collapsed = true" style="display: none;">\n    <div ng-show=!error>\n      <div class="table share">\n        <div class="row">\n          <table class="table collapsed">\n            <tr>\n              <td class=pod-info>\n                <a class="name" target=_blank ng-href="{{url}}">{{pod.title || pod.name}}</a>\n                <span class="extra-field">{{fields.marque}}</span>\n                <span class="extra-field" ng-if="fields.pays">-&nbsp;&nbsp;&nbsp;&nbsp;{{fields.pays}}</span>\n              </td>\n              <td class="actions">\n                <a class=logo target=_blank href="http://www.culturepub.fr"></a>\n                <button class=expand ng-click="collapsed = !collapsed"\n                        ng-class="collapsed?\'\':\'disabled\'"></button>\n                <button class=like ng-click="like()" ng-disabled=likeDisabled>{{pod.total_rates}}</button>\n              </td>\n            </tr>\n          </table>\n        </div>\n      </div>\n      <div ng-hide="collapsed">\n        <div class="table social">\n          <div class="row url">\n            <div class="cell icon"></div>\n            <div class="cell value embed">\n              <input type=text readonly=readonly value="{{sharingUrl}}">\n            </div>\n            <div class="cell action">\n              <div class="social"\n                   use-preferred="false"\n                   buttons="facebook,twitter,google_plusone_share"></div>\n            </div>\n          </div>\n        </div>\n        <div class="table iframe">\n          <div class="row iframe">\n            <div class="cell icon"></div>\n            <div class="cell value">\n              <input class="auto" type=text readonly=readonly value="{{sharingIframe}}">\n            </div>\n          </div>\n        </div>\n        <div class="close">\n          <span class="closeButton" ng-click="collapsed = true"></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'), a.put("template/playsite/player.html", '<div data-flumotion-player style="width: 100%; height: 100%"></div>'), a.put("template/playsite/player_hlist.html", '<div fmt-layout="vertical" style="width: 100%; height: 100%;">\n  <div fmt-widget="{{widgetPlayerId}}" data-fmt-flex="1"></div>\n  <div fmt-widget="{{widgetPlaylistId}}" content="{{content}}" data-fmt-flex="175px" style="width: 100%;"></div>\n</div>'), a.put("template/playsite/player_hlist_social.html", '<div data-flumotion-layout=vertical style="height: 100%">\n    <div data-flumotion-player data-fmt-flex=1></div>\n    <div data-flumotion-playlist data-fmt-flex=115px style="width: 100%"></div>\n    <div data-flumotion-social data-fmt-flex=56px style="width: 100%"></div>\n</div>'), a.put("template/playsite/player_social.html", '<div data-flumotion-layout=vertical style="height: 100%">\n    <div data-flumotion-player data-fmt-flex=1></div>\n    <div data-flumotion-social data-fmt-flex=56px style="width: 100%"></div>\n</div>'), a.put("template/playsite/player_vlist.html", '<div data-flumotion-layout=horizontal style="height: 100%">\n    <div data-flumotion-player data-fmt-flex=1></div>\n    <div data-flumotion-playlist data-fmt-force-item=true data-fmt-flex=348px style="height: 100%"></div>\n</div>')
}]);